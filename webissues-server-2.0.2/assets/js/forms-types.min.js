/*!
 * WebIssues v2.0.2
 * Copyright (C) 2007-2020 WebIssues Team
 * License: Affero GPL v3.0
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{354:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var r=i(348);function n(t){switch(t){case r.e.ID:return this.$t("title.ID");case r.e.Name:return this.$t("title.Name");case r.e.CreatedBy:return this.$t("title.CreatedBy");case r.e.CreatedDate:return this.$t("title.CreatedDate");case r.e.ModifiedBy:return this.$t("title.ModifiedBy");case r.e.ModifiedDate:return this.$t("title.ModifiedDate");default:if(t>r.e.UserDefined){var e=this.attributes.find((function(e){return e.id==t-r.e.UserDefined}));if(null!=e)return e.name}return this.$t("text.UnknownColumn")}}},397:function(t,e,i){"use strict";i.r(e);var r=i(349),n=i(354);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={props:{typeId:Number,name:String,defaultView:Object,publicViews:Array,personalViews:Array,attributes:Array},computed:a(a({},Object(r.b)("global",["isAdministrator"])),{},{breadcrumbs:function(){return[{label:this.$t("title.IssueTypes"),route:"ManageTypes"},{label:this.name,route:"TypeDetails",params:{typeId:this.typeId}}]},columns:function(){return{name:{title:this.$t("title.Name"),class:"column-medium"},columns:{title:this.$t("title.Columns"),class:"column-xlarge"},sort:{title:this.$t("title.SortBy")}}},defaultColumns:function(){var t=this;return this.defaultView.columns.map((function(e){return t.getColumnName(e)})).join(", ")},defaultSortBy:function(){return this.getSortBy(this.defaultView.sortColumn,this.defaultView.sortAscending)}}),methods:{getColumns:function(t){var e=this;return t.columns.map((function(t){return e.getColumnName(t)})).join(", ")},getColumnName:n.a,getSortBy:function(t,e){return this.getColumnName(t)+" ("+(e?this.$t("text.ascending"):this.$t("text.descending"))+")"},editDefaultView:function(){this.$router.push("EditDefaultView",{typeId:this.typeId})},addPublicView:function(){this.$router.push("AddPublicView",{typeId:this.typeId})},addPersonalView:function(){this.$router.push("AddPersonalView",{typeId:this.typeId})},rowClickPublic:function(t){this.$router.push("EditView",{typeId:this.typeId,viewId:this.publicViews[t].id})},rowClickPersonal:function(t){this.$router.push("EditView",{typeId:this.typeId,viewId:this.personalViews[t].id})}}},u=i(347),c=Object(u.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("title.ViewSettings"),breadcrumbs:t.breadcrumbs,size:"large","auto-close":"","save-position":""}},[t.isAdministrator?[i("FormSection",{attrs:{title:t.$t("title.DefaultView")}},[i("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("cmd.EditDefaultView")},on:{click:t.editDefaultView}},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit"))+"\n      ")])]),t._v(" "),i("div",{staticClass:"panel panel-default"},[i("div",{staticClass:"panel-body panel-table"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-3 col-sm-2"},[t._v(t._s(t.$t("label.Columns")))]),t._v(" "),i("div",{staticClass:"col-xs-9 col-sm-10"},[t._v(t._s(t.defaultColumns))])]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-3 col-sm-2"},[t._v(t._s(t.$t("label.SortBy")))]),t._v(" "),i("div",{staticClass:"col-xs-9 col-sm-10"},[t._v(t._s(t.defaultSortBy))])])])]),t._v(" "),i("FormSection",{attrs:{title:t.$t("title.PublicViews")}},[i("button",{staticClass:"btn btn-success",attrs:{type:"button",title:t.$t("cmd.AddPublicView")},on:{click:t.addPublicView}},[i("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n      ")])]),t._v(" "),t.publicViews.length>0?i("Grid",{attrs:{items:t.publicViews,columns:t.columns},on:{"row-click":t.rowClickPublic},scopedSlots:t._u([{key:"columns-cell",fn:function(e){var i=e.item;return[t._v("\n        "+t._s(t.getColumns(i))+"\n      ")]}},{key:"sort-cell",fn:function(e){var i=e.item;return[t._v("\n        "+t._s(t.getSortBy(i.sortColumn,i.sortAscending))+"\n      ")]}}],null,!1,3040755163)}):i("div",{staticClass:"alert alert-info"},[t._v("\n      "+t._s(t.$t("info.NoPublicViews"))+"\n    ")])]:t._e(),t._v(" "),i("FormSection",{attrs:{title:t.$t("title.PersonalViews")}},[i("button",{staticClass:"btn btn-success",attrs:{type:"button",title:t.$t("cmd.AddPersonalView")},on:{click:t.addPersonalView}},[i("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n    ")])]),t._v(" "),t.personalViews.length>0?i("Grid",{attrs:{items:t.personalViews,columns:t.columns},on:{"row-click":t.rowClickPersonal},scopedSlots:t._u([{key:"columns-cell",fn:function(e){var i=e.item;return[t._v("\n      "+t._s(t.getColumns(i))+"\n    ")]}},{key:"sort-cell",fn:function(e){var i=e.item;return[t._v("\n      "+t._s(t.getSortBy(i.sortColumn,i.sortAscending))+"\n    ")]}}],null,!1,1174715739)}):i("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoPersonalViews"))+"\n  ")])],2)}),[],!1,null,null,null);e.default=c.exports},398:function(t,e,i){"use strict";i.r(e);var r=i(349);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={props:{typeId:Number,name:String,attributes:Array},computed:s(s({},Object(r.b)("global",["isAdministrator"])),{},{breadcrumbs:function(){return[{label:this.$t("title.IssueTypes"),route:"ManageTypes"}]},columns:function(){return{name:{title:this.$t("title.Name"),class:"column-large"},type:{title:this.$t("title.Type")},default:{title:this.$t("title.DefaultValue")},required:{title:this.$t("title.Required"),class:"column-small"}}}}),methods:{renameType:function(){this.$router.push("RenameType",{typeId:this.typeId})},deleteType:function(){this.$router.push("DeleteType",{typeId:this.typeId})},viewSettings:function(){this.$router.push("ViewSettings",{typeId:this.typeId})},addAttribute:function(){this.$router.push("AddAttribute",{typeId:this.typeId})},reorderAttributes:function(){this.$router.push("ReorderAttributes",{typeId:this.typeId})},rowClick:function(t){this.$router.push("EditAttribute",{typeId:this.typeId,attributeId:this.attributes[t].id})}}},o=i(347),u=Object(o.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.name,breadcrumbs:t.breadcrumbs,size:"large","auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.viewSettings}},[i("span",{staticClass:"fa fa-binoculars",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("title.ViewSettings")))]),t._v(" "),t.isAdministrator?i("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[i("li",[i("HyperLink",{on:{click:t.renameType}},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.RenameType")))])],1),t._v(" "),i("li",[i("HyperLink",{on:{click:t.deleteType}},[i("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteType")))])],1)]):t._e()]},proxy:!0}])},[t._v(" "),i("FormSection",{attrs:{title:t.$t("title.Attributes")}},[t.isAdministrator?i("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addAttribute}},[i("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add")))]):t._e(),t._v(" "),t.isAdministrator&&t.attributes.length>1?i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.reorderAttributes}},[i("span",{staticClass:"fa fa-random",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.ChangeOrder"))+"\n    ")]):t._e()]),t._v(" "),t.attributes.length>0?i("Grid",{attrs:{items:t.attributes,columns:t.columns,"row-click-disabled":!t.isAdministrator},on:{"row-click":t.rowClick},scopedSlots:t._u([{key:"type-cell",fn:function(e){var i=e.item;return[t._v("\n      "+t._s(t.$t("AttributeType."+i.type))+"\n    ")]}},{key:"default-cell",fn:function(e){var i=e.item;return[t._v("\n      "+t._s(t.$formatter.formatExpression(i.default,i))+"\n    ")]}},{key:"required-cell",fn:function(e){var i=e.item;return[t._v("\n      "+t._s(1==i.required?t.$t("text.Yes"):t.$t("text.No"))+"\n    ")]}}],null,!1,42963056)}):i("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoAttributes"))+"\n  ")])],1)}),[],!1,null,null,null);e.default=u.exports},400:function(t,e,i){"use strict";i.r(e);i(348);var r={props:{typeId:Number,name:String,initialAttributes:Array},data:function(){return{attributes:this.initialAttributes}},methods:{submit:function(){var t=this,e=this.attributes.map((function(t){return t.id})).join(",");if(e!=this.initialAttributes.map((function(t){return t.id})).join(",")){var i={typeId:this.typeId,order:e};this.$form.block(),this.$ajax.post("/types/attributes/reorder.php",i).then((function(e){e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))}else this.returnToDetails()},returnToDetails:function(){this.$router.push("TypeDetails",{typeId:this.typeId})}}},n=i(347),s=Object(n.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("cmd.ChangeOrder"),"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[i("Prompt",{attrs:{path:"prompt.ChangeOrder"}},[i("strong",[t._v(t._s(t.name))])]),t._v(" "),i("Draggable",{staticClass:"draggable-container",attrs:{handle:".draggable-handle"},model:{value:t.attributes,callback:function(e){t.attributes=e},expression:"attributes"}},t._l(t.attributes,(function(e){return i("div",{key:e.id,staticClass:"draggable-item"},[i("div",{staticClass:"draggable-handle"},[i("span",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.name))])])})),0)],1)}),[],!1,null,null,null);e.default=s.exports},401:function(t,e,i){"use strict";i.r(e);var r=i(348),n={props:{mode:String,typeId:Number,viewId:Number,name:String},data:function(){return{errorPath:null}},computed:{title:function(){return"publish"==this.mode?this.$t("cmd.PublishView"):"unpublish"==this.mode?this.$t("cmd.UnpublishView"):void 0},promptPath:function(){return"publish"==this.mode?"prompt.PublishView":"unpublish"==this.mode?"prompt.UnpublishView":void 0}},methods:{submit:function(){var t=this;if(null==this.errorPath){this.$form.block();var e={viewId:this.viewId};this.$ajax.post("/types/views/"+this.mode+".php",e).then((function(e){e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){e.reason==r.m.APIError&&e.errorCode==r.f.ViewAlreadyExists?(t.$form.unblock(),t.errorPath="ErrorCode."+e.errorCode):t.$form.error(e)}))}else this.returnToDetails()},returnToDetails:function(){this.$router.push("ViewSettings",{typeId:this.typeId})}}},s=i(347),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,size:"small","with-buttons":"","cancel-hidden":null!=t.errorPath},on:{ok:t.submit,cancel:t.returnToDetails}},[null==t.errorPath?i("Prompt",{attrs:{path:t.promptPath}},[i("strong",[t._v(t._s(t.name))])]):i("Prompt",{attrs:{path:t.errorPath,"alert-class":"alert-danger"}})],1)}),[],!1,null,null,null);e.default=a.exports},402:function(t,e,i){"use strict";i.r(e);var r=i(349);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={props:{types:Array},computed:s(s({},Object(r.b)("global",["isAdministrator"])),{},{columns:function(){return{name:{title:this.$t("title.Name"),class:"column-large"}}}}),methods:{addType:function(){this.$router.push("AddType")},rowClick:function(t){this.$router.push("TypeDetails",{typeId:this.types[t].id})}}},o=i(347),u=Object(o.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("title.IssueTypes"),"auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[t.isAdministrator?i("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addType}},[i("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add")))]):t._e()]},proxy:!0}])},[t._v(" "),t.types.length>0?i("Grid",{attrs:{items:t.types,columns:t.columns},on:{"row-click":t.rowClick}}):i("Prompt",{attrs:{path:t.isAdministrator?"info.NoIssueTypes":"info.NoAvailableIssueTypes"}})],1)}),[],!1,null,null,null);e.default=u.exports},403:function(t,e,i){"use strict";i.r(e);var r=i(349),n=i(348),s=i(354);function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){c(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var m={props:{mode:String,typeId:Number,typeName:String,viewId:Number,isPublic:Boolean,initialName:String,initialView:Object,attributes:Array},fields:function(){return{name:{value:this.initialName,type:String,required:!0,maxLength:n.l.Name,condition:"add"==this.mode||"edit"==this.mode||"clone"==this.mode},sortColumn:{value:this.initialView.sortColumn,type:Number},sortAscending:{value:this.initialView.sortAscending,type:Boolean}}},data:function(){var t=this,e={columns:this.initialView.columns,filters:[],nextId:1,availableFilter:"",allFilter:""};return null!=this.initialView.filters&&(e.filters=this.initialView.filters.map((function(i){var r=t.getAttributeForParser(i),n=t.$formatter.formatExpression(i.value,r);return{id:e.nextId++,column:i.column,operator:i.operator,value:n,error:null}}))),e},computed:u(u({},Object(r.b)("global",["isAdministrator"])),{},{title:function(){return"default"==this.mode?this.$t("title.DefaultView"):"add"==this.mode?this.isPublic?this.$t("cmd.AddPublicView"):this.$t("cmd.AddPersonalView"):"edit"==this.mode?this.$t("cmd.EditView"):"clone"==this.mode?this.$t("cmd.CloneView"):void 0},promptPath:function(){return"default"==this.mode?"prompt.EditDefaultView":"add"==this.mode?this.isPublic?"prompt.AddPublicView":"prompt.AddPersonalView":"edit"==this.mode?this.isPublic?"prompt.EditPublicView":"prompt.EditPersonalView":"clone"==this.mode?this.isPublic?"prompt.ClonePublicView":"prompt.ClonePersonalView":void 0},allColumns:function(){return[n.e.ID,n.e.Name,n.e.CreatedDate,n.e.CreatedBy,n.e.ModifiedDate,n.e.ModifiedBy].concat(a(this.attributes.map((function(t){return n.e.UserDefined+t.id}))))},availableColumns:function(){var t=this;return this.allColumns.filter((function(e){return!t.columns.includes(e)}))},filteredAllColumns:function(){return this.filterColumns(this.allColumns,this.allFilter)},filteredAvailableColumns:function(){return this.filterColumns(this.availableColumns,this.availableFilter)},columnNames:function(){var t=this;return this.columns.map((function(e){return t.getColumnName(e)}))}}),methods:{submit:function(){var t=this,e=this.$fields.validate();if("add"!=this.mode&&"edit"!=this.mode&&"clone"!=this.mode||(e=this.validateFilters(e)),e){var i=this.columns.join(","),r=this.initialView.columns.join(",");if("default"!=this.mode||this.$fields.modified()||i!=r)if("edit"!=this.mode||this.$fields.modified()||i!=r||!this.areFiltersEqual(this.initialView.filters,this.filters)){var s={};"default"==this.mode||"add"==this.mode||"clone"==this.mode?s.typeId=this.typeId:s.viewId=this.viewId,"add"!=this.mode&&"clone"!=this.mode||(s.isPublic=this.isPublic),"add"!=this.mode&&"edit"!=this.mode&&"clone"!=this.mode||(s.name=this.name),s.columns=i,s.sortColumn=this.sortColumn,s.sortAscending=this.sortAscending,"add"!=this.mode&&"edit"!=this.mode&&"clone"!=this.mode||(s.filters=this.filters.map((function(e){var i=t.getAttributeForParser(e),r=t.$parser.convertExpression(e.value,i);return{column:e.column,operator:e.operator,value:r}}))),this.$form.block(),this.$ajax.post("/types/views/"+("clone"==this.mode?"add":this.mode)+".php",s).then((function(e){e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){e.reason==n.m.APIError&&e.errorCode==n.f.ViewAlreadyExists?(t.$form.unblock(),t.nameError=t.$t("ErrorCode."+e.errorCode),t.$nextTick((function(){t.$refs.name.focus()}))):t.$form.error(e)}))}else this.returnToDetails();else this.returnToDetails()}},isFixedColumn:function(t){return t==n.e.ID||t==n.e.Name},getColumnName:s.a,filterColumns:function(t,e){var i=this;return""==e?t:(e=e.toUpperCase(),t.filter((function(t){return i.getColumnName(t).toUpperCase().includes(e)})))},canMoveColumn:function(t){return!this.isFixedColumn(t.relatedContext.element)},addColumn:function(t){this.columns=[].concat(a(this.columns),[t])},removeColumn:function(t){this.columns=this.columns.filter((function(e){return e!=t})),this.sortColumn==t&&(this.sortColumn=n.e.ID)},getColumnType:function(t){switch(t){case n.e.ID:return"NUMERIC";case n.e.Name:return"TEXT";case n.e.CreatedBy:case n.e.ModifiedBy:return"USER";case n.e.CreatedDate:case n.e.ModifiedDate:return"DATETIME";default:if(t>n.e.UserDefined){var e=this.attributes.find((function(e){return e.id==t-n.e.UserDefined}));if(null!=e)return e.type}}},getAttributeForEditor:function(t){var e=this.getColumnType(t.column),i={type:e};if("ENUM"==e){var r=this.attributes.find((function(e){return e.id==t.column-n.e.UserDefined}));null!=r&&(i.items=r.items)}return"IN"==t.operator&&(i["multi-select"]=1),i},getAttributeForParser:function(t){var e=this.getColumnType(t.column),i={type:e};switch(e){case"TEXT":case"ENUM":case"USER":i={type:"ENUM",editable:1};break;case"NUMERIC":if(t.column>n.e.UserDefined){var r=this.attributes.find((function(e){return e.id==t.column-n.e.UserDefined}));null!=r&&(i.decimal=r.decimal,i.strip=r.strip)}}return"EQ"!=t.operator&&"NEQ"!=t.operator&&(i.required=1),"IN"==t.operator&&(i["multi-select"]=1),i},getOperators:function(t){var e=["EQ","NEQ"];switch(this.getColumnType(t)){case"TEXT":case"ENUM":case"USER":e=[].concat(a(e),["BEG","CON","END","IN"]);break;case"NUMERIC":case"DATETIME":e=[].concat(a(e),["LT","LTE","GT","GTE"])}return e},getOperatorName:function(t){return this.$t("Operator."+t)},addFilter:function(t){this.filters=[].concat(a(this.filters),[{id:this.nextId++,column:t,operator:"EQ",value:"",error:null}])},removeFilter:function(t){this.filters=this.filters.filter((function(e){return e!=t}))},validateFilters:function(t){for(var e=0;e<this.filters.length;e++){var i=this.filters[e];i.error=null;var r=this.getAttributeForParser(i);try{i.value=this.$parser.normalizeString(i.value,n.l.Value,{allowEmpty:!0}),i.value=this.$parser.normalizeExpression(i.value,r)}catch(t){if(t.reason!=n.m.APIError)throw t;i.error=this.$t("ErrorCode."+t.errorCode)}null!=i.error&&(t&&this.$refs["filter"+i.id][0].focus(),t=!1)}return t},areFiltersEqual:function(t,e){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i].column!=e[i].column||t[i].operator!=e[i].operator||t[i].value!=e[i].value)return!1;return!0},cloneView:function(){this.$router.push("CloneView",{typeId:this.typeId,viewId:this.viewId})},unpublishView:function(){this.$router.push("UnpublishView",{typeId:this.typeId,viewId:this.viewId})},publishView:function(){this.$router.push("PublishView",{typeId:this.typeId,viewId:this.viewId})},deleteView:function(){this.$router.push("DeleteView",{typeId:this.typeId,viewId:this.viewId})},returnToDetails:function(){this.$router.push("ViewSettings",{typeId:this.typeId})}},mounted:function(){null!=this.$refs.name&&this.$refs.name.focus()}},d=i(347),p=Object(d.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails},scopedSlots:t._u([{key:"header",fn:function(){return["edit"==t.mode?i("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[i("li",[i("HyperLink",{on:{click:t.cloneView}},[i("span",{staticClass:"fa fa-clone",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.CloneView")))])],1),t._v(" "),t.isPublic?i("li",[i("HyperLink",{on:{click:t.unpublishView}},[i("span",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.UnpublishView")))])],1):t.isAdministrator?i("li",[i("HyperLink",{on:{click:t.publishView}},[i("span",{staticClass:"fa fa-upload",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.PublishView")))])],1):t._e(),t._v(" "),i("li",[i("HyperLink",{on:{click:t.deleteView}},[i("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteView")))])],1)]):t._e()]},proxy:!0}])},[t._v(" "),"default"==t.mode||"add"==t.mode?i("Prompt",{attrs:{path:t.promptPath}},[i("strong",[t._v(t._s(t.typeName))])]):i("Prompt",{attrs:{path:t.promptPath}},[i("strong",[t._v(t._s(t.initialName))])]),t._v(" "),"add"==t.mode||"edit"==t.mode||"clone"==t.mode?i("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)):t._e(),t._v(" "),i("FormSection",{attrs:{title:t.$t("title.Columns")}},[t.availableColumns.length>0?i("DropdownFilterButton",{attrs:{"fa-class":"fa-plus","menu-class":"dropdown-menu-right",title:t.$t("cmd.AddColumn"),filter:t.availableFilter},on:{"update:filter":function(e){t.availableFilter=e}}},t._l(t.filteredAvailableColumns,(function(e){return i("li",{key:e},[i("HyperLink",{on:{click:function(i){return t.addColumn(e)}}},[t._v(t._s(t.getColumnName(e)))])],1)})),0):t._e()],1),t._v(" "),i("Draggable",{staticClass:"draggable-container",attrs:{handle:".draggable-handle",move:t.canMoveColumn},model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}},t._l(t.columns,(function(e){return i("div",{key:e,staticClass:"draggable-item"},[t.isFixedColumn(e)?t._e():i("button",{staticClass:"btn btn-default",attrs:{title:t.$t("cmd.Remove")},on:{click:function(i){return t.removeColumn(e)}}},[i("span",{staticClass:"fa fa-remove",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("div",{class:t.isFixedColumn(e)?"draggable-fixed":"draggable-handle"},[i("span",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.getColumnName(e)))])])})),0),t._v(" "),i("Panel",{attrs:{title:t.$t("title.SortOrder")}},[i("FormDropdown",{attrs:{label:t.$t("label.Column"),items:t.columns,"item-names":t.columnNames,"with-filter":""},model:{value:t.sortColumn,callback:function(e){t.sortColumn=e},expression:"sortColumn"}}),t._v(" "),i("FormGroup",{attrs:{label:t.$t("label.Order")}},[i("div",{staticClass:"radio"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.sortAscending,expression:"sortAscending"}],attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.sortAscending,!0)},on:{change:function(e){t.sortAscending=!0}}}),t._v(" "+t._s(t.$t("text.Ascending")))])]),t._v(" "),i("div",{staticClass:"radio"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.sortAscending,expression:"sortAscending"}],attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.sortAscending,!1)},on:{change:function(e){t.sortAscending=!1}}}),t._v(" "+t._s(t.$t("text.Descending")))])])])],1),t._v(" "),"add"==t.mode||"edit"==t.mode||"clone"==t.mode?[i("FormSection",{attrs:{title:t.$t("title.Filters")}},[i("DropdownFilterButton",{attrs:{"fa-class":"fa-plus","menu-class":"dropdown-menu-right",title:t.$t("cmd.AddFilter"),filter:t.allFilter},on:{"update:filter":function(e){t.allFilter=e}}},t._l(t.filteredAllColumns,(function(e){return i("li",{key:e},[i("HyperLink",{on:{click:function(i){return t.addFilter(e)}}},[t._v(t._s(t.getColumnName(e)))])],1)})),0)],1),t._v(" "),t.filters.length>0?i("Draggable",{staticClass:"filters",attrs:{handle:".filters-name"},model:{value:t.filters,callback:function(e){t.filters=e},expression:"filters"}},t._l(t.filters,(function(e){return i("div",{key:e.id,staticClass:"row"},[i("button",{staticClass:"btn btn-default",attrs:{title:t.$t("cmd.Remove")},on:{click:function(i){return t.removeFilter(e)}}},[i("span",{staticClass:"fa fa-remove",attrs:{"aria-hidden":"true"}})]),t._v(" "),i("div",{staticClass:"col-xs-10 col-sm-3 filters-name"},[i("span",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.getColumnName(e.column)))]),t._v(" "),i("div",{staticClass:"col-xs-12 col-sm-4"},[i("DropdownScrollButton",{attrs:{text:t.getOperatorName(e.operator)}},t._l(t.getOperators(e.column),(function(r){return i("li",{key:r,class:{active:r==e.operator}},[i("HyperLink",{on:{click:function(t){e.operator=r}}},[t._v(t._s(t.getOperatorName(r)))])],1)})),0)],1),t._v(" "),i("div",{class:"col-xs-12 col-sm-4"+(null!=e.error?" form-group has-error":"")},[i("ValueEditor",{ref:"filter"+e.id,refInFor:!0,attrs:{attribute:t.getAttributeForEditor(e),"with-expressions":""},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"filter.value"}}),t._v(" "),null!=e.error?i("p",{staticClass:"help-block"},[t._v(t._s(e.error))]):t._e()],1)])})),0):i("div",{staticClass:"alert alert-info"},[t._v("\n      "+t._s(t.$t("info.NoFilters"))+"\n    ")])]:t._e()],2)}),[],!1,null,null,null);e.default=p.exports},405:function(t,e,i){"use strict";i.r(e);var r=i(348),n={props:{mode:String,typeId:Number,initialName:String},fields:function(){return{name:{value:this.initialName,type:String,required:!0,maxLength:r.l.Name}}},computed:{title:function(){return"rename"==this.mode?this.$t("cmd.RenameType"):"add"==this.mode?this.$t("cmd.AddType"):void 0}},methods:{submit:function(){var t=this;if(this.$fields.validate())if("rename"!=this.mode||this.$fields.modified()){var e={};"rename"==this.mode&&(e.typeId=this.typeId),e.name=this.name,this.$form.block(),this.$ajax.post("/types/"+this.mode+".php",e).then((function(e){var i=e.typeId;e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails(i)})).catch((function(e){e.reason==r.m.APIError&&e.errorCode==r.f.TypeAlreadyExists?(t.$form.unblock(),t.nameError=t.$t("ErrorCode."+e.errorCode),t.$nextTick((function(){t.$refs.name.focus()}))):t.$form.error(e)}))}else this.returnToDetails(this.typeId)},cancel:function(){"rename"==this.mode?this.returnToDetails(this.typeId):this.$router.push("ManageTypes")},returnToDetails:function(t){this.$router.push("TypeDetails",{typeId:t})}},mounted:function(){this.$refs.name.focus()}},s=i(347),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.cancel}},["rename"==t.mode?i("Prompt",{attrs:{path:"prompt.RenameType"}},[i("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?i("Prompt",{attrs:{path:"prompt.AddType"}}):t._e(),t._v(" "),i("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1))],1)}),[],!1,null,null,null);e.default=a.exports},406:function(t,e,i){"use strict";i.r(e);var r=i(348),n=i(350);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={props:{mode:String,typeId:Number,initialName:String,attributeId:Number,typeName:String,initialType:String,initialDetails:Object},fields:function(){var t=this,e="edit"==this.mode?this.initialDetails:{decimal:0},i={name:{value:this.initialName,type:String,required:!0,maxLength:r.l.Name},attributeType:{value:this.initialType||"TEXT",type:String,required:!0},multiLine:{value:e["multi-line"],type:Boolean},minLength:{value:e["min-length"],type:String,maxLength:3,condition:function(){return t.hasMinMaxLength},parse:this.parseMinLength},maxLength:{value:e["max-length"],type:String,maxLength:3,condition:function(){return t.hasMinMaxLength},parse:this.parseMaxLength},editable:{value:e.editable,type:Boolean},multiSelect:{value:e["multi-select"],type:Boolean},items:{type:String,multiLine:!0,required:!0,condition:function(){return"ENUM"==t.attributeType},parse:this.parseItems},decimal:{value:e.decimal||0,type:Number,required:!0,condition:function(){return"NUMERIC"==t.attributeType}},minValue:{type:String,condition:function(){return"NUMERIC"==t.attributeType},parse:this.parseMinValue},maxValue:{type:String,condition:function(){return"NUMERIC"==t.attributeType},parse:this.parseMaxValue},strip:{value:e.strip,type:Boolean},time:{value:e.time,type:Boolean},local:{value:e.local,type:Boolean},members:{value:e.members,type:Boolean},required:{value:e.required,type:Boolean},defaultValue:{type:String,maxLength:r.l.Value,parse:this.parseDefaultValue}};return null!=e.items&&(i.items.value=e.items.join("\n")),null!=e["min-value"]&&(i.minValue.value=this.$formatter.convertAttributeValue(e["min-value"],{type:"NUMERIC",decimal:e.decimal,strip:e.strip})),null!=e["max-value"]&&(i.maxValue.value=this.$formatter.convertAttributeValue(e["max-value"],{type:"NUMERIC",decimal:e.decimal,strip:e.strip})),null!=e.default&&(i.defaultValue.value=this.$formatter.formatExpression(e.default,a({type:this.initialType},e))),i},data:function(){var t={extractedItems:[],parsedItems:[]};return null!=this.initialDetails&&null!=this.initialDetails.items&&(t.extractedItems=this.initialDetails.items),t},computed:{title:function(){return"edit"==this.mode?this.$t("cmd.ModifyAttribute"):"add"==this.mode?this.$t("cmd.AddAttribute"):void 0},attributeTypes:function(){return"TEXT"==this.initialType||"ENUM"==this.initialType||"USER"==this.initialType?["TEXT","ENUM","USER"]:null!=this.initialType?[this.initialType]:["TEXT","ENUM","NUMERIC","DATETIME","USER"]},attibuteTypeNames:function(){var t=this;return this.attributeTypes.map((function(e){return t.$t("AttributeType."+e)}))},hasMinMaxLength:function(){return"TEXT"==this.attributeType||"ENUM"==this.attributeType&&this.editable&&!this.multiSelect},decimalItems:function(){return Array(7).fill(0).map((function(t,e){return e}))},decimalNames:function(){return this.decimalItems.map((function(t){return t.toString()}))},attribute:function(){return{type:this.attributeType,items:this.extractedItems,"multi-select":this.multiSelect?1:0,time:this.time?1:0}}},watch:{attributeType:function(){this.$fields.clear()}},methods:{submit:function(){var t=this;if(this.$fields.validate())if("edit"!=this.mode||this.$fields.modified()){var e={};"add"==this.mode?e.typeId=this.typeId:e.attributeId=this.attributeId,e.name=this.name,e.type=this.attributeType;var i=this.extractDetails();if(this.required&&(i.required=1),""!=this.defaultValue){var n=a({type:this.attributeType},i);i.default=this.$parser.convertExpression(this.defaultValue,n)}e.details=i,this.$form.block(),this.$ajax.post("/types/attributes/"+this.mode+".php",e).then((function(e){e.attributeId;e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){e.reason==r.m.APIError&&e.errorCode==r.f.AttributeAlreadyExists?(t.$form.unblock(),t.nameError=t.$t("ErrorCode."+e.errorCode),t.$nextTick((function(){t.$refs.name.focus()}))):t.$form.error(e)}))}else this.returnToDetails(this.typeId)},parseMinLength:function(t){return""!=t?this.$parser.parseInteger(t,1,r.l.Value).toString():""},parseMaxLength:function(t){if(""!=t){var e=""!=this.minLength&&null==this.minLengthError?Number(this.minLength):1;return this.$parser.parseInteger(t,e,r.l.Value).toString()}return""},parseItems:function(t){var e=t.split("\n"),i=[],s=this.hasMinMaxLength&&""!=this.minLength&&null==this.minLengthError?Number(this.minLength):1,a=this.hasMinMaxLength&&""!=this.maxLength&&null==this.maxLengthError?Number(this.maxLength):r.l.Value;for(var l in e){var o=this.$parser.normalizeString(e[l],a,{allowEmpty:!0});if(""!=o){if(o.length<s)throw Object(n.a)(r.f.StringTooShort);if(i.indexOf(o)>=0)throw Object(n.a)(r.f.DuplicateItems);i.push(o)}}return this.parsedItems=i,i.join("\n")},parseMinValue:function(t){return""!=t?this.$parser.normalizeAttributeValue(t,{type:"NUMERIC",decimal:this.decimal,strip:this.strip?1:0}):""},parseMaxValue:function(t){if(""!=t){var e=null==this.minValueError?this.$parser.convertAttributeValue(this.minValue,{type:"NUMERIC",decimal:this.decimal}):null;return this.$parser.normalizeAttributeValue(t,{type:"NUMERIC",decimal:this.decimal,"min-value":e,strip:this.strip?1:0})}return""},parseDefaultValue:function(t){if(""==t)return t;var e=this.extractDetails();"TEXT"==this.attributeType?e["multi-line"]=0:"ENUM"==this.attributeType&&null==e.items&&(e.editable=1);var i=a({type:this.attributeType},e);return this.$parser.normalizeExpression(t,i)},extractDetails:function(){var t={};switch(this.attributeType){case"TEXT":this.multiLine&&(t["multi-line"]=1),""!=this.minLength&&null==this.minLengthError&&(t["min-length"]=Number(this.minLength)),""!=this.maxLength&&null==this.maxLengthError&&(t["max-length"]=Number(this.maxLength));break;case"ENUM":this.editable&&(t.editable=1),this.multiSelect&&(t["multi-select"]=1),null==this.itemsError&&(t.items=this.parsedItems),this.hasMinMaxLength&&(""!=this.minLength&&null==this.minLengthError&&(t["min-length"]=Number(this.minLength)),""!=this.maxLength&&null==this.maxLengthError&&(t["max-length"]=Number(this.maxLength)));break;case"NUMERIC":t.decimal=this.decimal,""!=this.minValue&&null==this.minValueError&&(t["min-value"]=this.$parser.convertAttributeValue(this.minValue,{type:"NUMERIC",decimal:this.decimal})),""!=this.maxValue&&null==this.maxValueError&&(t["max-value"]=this.$parser.convertAttributeValue(this.maxValue,{type:"NUMERIC",decimal:this.decimal})),0!=this.decimal&&this.strip&&(t.strip=1);break;case"DATETIME":this.time&&(t.time=1),this.local&&(t.local=1);break;case"USER":this.members&&(t.members=1),this.multiSelect&&(t["multi-select"]=1)}return t},extractItems:function(){var t=this.items.split("\n"),e=[];for(var i in t)try{var n=this.$parser.normalizeString(t[i],r.l.Value,{allowEmpty:!0});""!=n&&e.indexOf(n)<0&&e.push(n)}catch(t){}this.extractedItems=e},returnToDetails:function(){this.$router.push("TypeDetails",{typeId:this.typeId})},deleteAttribute:function(){this.$router.push("DeleteAttribute",{typeId:this.typeId,attributeId:this.attributeId})}},mounted:function(){this.$refs.name.focus()}},u=i(347),c=Object(u.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails},scopedSlots:t._u([{key:"header",fn:function(){return["edit"==t.mode?i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.deleteAttribute}},[i("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Delete"))+"\n    ")]):t._e()]},proxy:!0}])},[t._v(" "),"edit"==t.mode?i("Prompt",{attrs:{path:"prompt.ModifyAttribute"}},[i("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?i("Prompt",{attrs:{path:"prompt.AddAttribute"}},[i("strong",[t._v(t._s(t.typeName))])]):t._e(),t._v(" "),i("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),i("FormDropdown",t._b({ref:"attributeType",attrs:{label:t.$t("label.AttributeType"),items:t.attributeTypes,"item-names":t.attibuteTypeNames},model:{value:t.attributeType,callback:function(e){t.attributeType=e},expression:"attributeType"}},"FormDropdown",t.$field("attributeType"),!1)),t._v(" "),i("Panel",{attrs:{title:t.$t("title.AttributeDetails")}},["TEXT"==t.attributeType?[i("FormCheckbox",{attrs:{label:t.$t("text.AllowMultipleLines")},model:{value:t.multiLine,callback:function(e){t.multiLine=e},expression:"multiLine"}}),t._v(" "),i("FormInput",t._b({attrs:{id:"minLength",label:t.$t("label.MinimumLength")},model:{value:t.minLength,callback:function(e){t.minLength=e},expression:"minLength"}},"FormInput",t.$field("minLength"),!1)),t._v(" "),i("FormInput",t._b({attrs:{id:"maxLength",label:t.$t("label.MaximumLength")},model:{value:t.maxLength,callback:function(e){t.maxLength=e},expression:"maxLength"}},"FormInput",t.$field("maxLength"),!1))]:"ENUM"==t.attributeType?[i("FormCheckbox",{attrs:{label:t.$t("text.AllowCustomValues")},model:{value:t.editable,callback:function(e){t.editable=e},expression:"editable"}}),t._v(" "),i("FormCheckbox",{attrs:{label:t.$t("text.AllowMultipleItems")},model:{value:t.multiSelect,callback:function(e){t.multiSelect=e},expression:"multiSelect"}}),t._v(" "),i("FormGroup",t._b({attrs:{id:"items",label:t.$t("label.DropdownListItems"),help:t.$t("prompt.EnterDropdownListItems")}},"FormGroup",t.$field("items"),!1),[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.items,expression:"items"}],staticClass:"form-control",attrs:{id:"items",rows:"6"},domProps:{value:t.items},on:{change:t.extractItems,input:function(e){e.target.composing||(t.items=e.target.value)}}})]),t._v(" "),i("FormInput",t._b({attrs:{id:"minLength",label:t.$t("label.MinimumLength"),disabled:!t.editable||t.multiSelect},model:{value:t.minLength,callback:function(e){t.minLength=e},expression:"minLength"}},"FormInput",t.$field("minLength"),!1)),t._v(" "),i("FormInput",t._b({attrs:{id:"maxLength",label:t.$t("label.MaximumLength"),disabled:!t.editable||t.multiSelect},model:{value:t.maxLength,callback:function(e){t.maxLength=e},expression:"maxLength"}},"FormInput",t.$field("maxLength"),!1))]:"NUMERIC"==t.attributeType?[i("FormDropdown",t._b({attrs:{id:"decimal",label:t.$t("label.DecimalPlaces"),items:t.decimalItems,"item-names":t.decimalNames},model:{value:t.decimal,callback:function(e){t.decimal=e},expression:"decimal"}},"FormDropdown",t.$field("decimal"),!1)),t._v(" "),i("FormInput",t._b({attrs:{id:"minValue",label:t.$t("label.MinimumValue")},model:{value:t.minValue,callback:function(e){t.minValue=e},expression:"minValue"}},"FormInput",t.$field("minValue"),!1)),t._v(" "),i("FormInput",t._b({attrs:{id:"maxValue",label:t.$t("label.MaximumValue")},model:{value:t.maxValue,callback:function(e){t.maxValue=e},expression:"maxValue"}},"FormInput",t.$field("maxValue"),!1)),t._v(" "),i("FormCheckbox",{attrs:{label:t.$t("text.StripTrailingZeros"),disabled:0==t.decimal},model:{value:t.strip,callback:function(e){t.strip=e},expression:"strip"}})]:"DATETIME"==t.attributeType?[i("FormGroup",{attrs:{label:t.$t("label.DateSettings")}},[i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio"},domProps:{checked:!t.time&&!t.local},on:{change:function(e){t.time=!1,t.local=!1}}}),t._v(" "+t._s(t.$t("text.DateOnly")))])]),t._v(" "),i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio"},domProps:{checked:t.time&&!t.local},on:{change:function(e){t.time=!0,t.local=!1}}}),t._v(" "+t._s(t.$t("text.DateAndTime")))])]),t._v(" "),i("div",{staticClass:"radio"},[i("label",[i("input",{attrs:{type:"radio"},domProps:{checked:t.time&&t.local},on:{change:function(e){t.time=!0,t.local=!0}}}),t._v(" "+t._s(t.$t("text.DateAndTimeLocal")))])])])]:"USER"==t.attributeType?[i("FormCheckbox",{attrs:{label:t.$t("text.AllowOnlyMembers")},model:{value:t.members,callback:function(e){t.members=e},expression:"members"}}),t._v(" "),i("FormCheckbox",{attrs:{label:t.$t("text.AllowMultipleItems")},model:{value:t.multiSelect,callback:function(e){t.multiSelect=e},expression:"multiSelect"}})]:t._e()],2),t._v(" "),i("FormCheckbox",{attrs:{label:t.$t("text.AttributeIsRequired")},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}}),t._v(" "),i("FormGroup",t._b({attrs:{id:"defaultValue",label:t.$t("label.DefaultValue")}},"FormGroup",t.$field("defaultValue"),!1),[i("ValueEditor",{attrs:{id:"defaultValue",attribute:t.attribute,"with-expressions":""},model:{value:t.defaultValue,callback:function(e){t.defaultValue=e},expression:"defaultValue"}})],1)],1)}),[],!1,null,null,null);e.default=c.exports},407:function(t,e,i){"use strict";i.r(e);var r={props:{typeId:Number,viewId:Number,isPublic:Boolean,name:String},computed:{promptPath:function(){return this.isPublic?"prompt.DeletePublicView":"prompt.DeletePersonalView"}},methods:{submit:function(){var t=this;this.$form.block();var e={viewId:this.viewId};this.$ajax.post("/types/views/delete.php",e).then((function(){t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("ViewSettings",{typeId:this.typeId})}}},n=i(347),s=Object(n.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("BaseForm",{attrs:{title:this.$t("cmd.DeleteView"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[e("Prompt",{attrs:{path:this.promptPath}},[e("strong",[this._v(this._s(this.name))])])],1)}),[],!1,null,null,null);e.default=s.exports},408:function(t,e,i){"use strict";i.r(e);var r=i(348),n={props:{typeId:Number,name:String,used:Boolean},data:function(){return{force:this.used}},methods:{submit:function(){var t=this;this.$form.block();var e={typeId:this.typeId,force:this.force};this.$ajax.post("/types/delete.php",e).then((function(){t.$store.commit("global/setDirty"),t.$router.push("ManageTypes")})).catch((function(e){e.reason==r.m.APIError&&e.errorCode==r.f.CannotDeleteType?(t.$form.unblock(),t.force=!0):t.$form.error(e)}))},cancel:function(){this.returnToDetails()},returnToDetails:function(){this.$router.push("TypeDetails",{typeId:this.typeId})}}},s=i(347),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("cmd.DeleteType"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[i("Prompt",{attrs:{path:"prompt.DeleteType"}},[i("strong",[t._v(t._s(t.name))])]),t._v(" "),t.force?i("Prompt",{attrs:{path:"prompt.WarningDeleteType","alert-class":"alert-danger"}},[i("strong",[t._v(t._s(t.$t("label.Warning")))])]):t._e()],1)}),[],!1,null,null,null);e.default=a.exports},410:function(t,e,i){"use strict";i.r(e);var r=i(348),n={props:{typeId:Number,attributeId:Number,name:String,used:Boolean},data:function(){return{force:this.used}},methods:{submit:function(){var t=this;this.$form.block();var e={attributeId:this.attributeId,force:this.force};this.$ajax.post("/types/attributes/delete.php",e).then((function(){t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){e.reason==r.m.APIError&&e.errorCode==r.f.CannotDeleteAttribute?(t.$form.unblock(),t.force=!0):t.$form.error(e)}))},returnToDetails:function(){this.$router.push("TypeDetails",{typeId:this.typeId})}}},s=i(347),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("cmd.DeleteAttribute"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[i("Prompt",{attrs:{path:"prompt.DeleteAttribute"}},[i("strong",[t._v(t._s(t.name))])]),t._v(" "),t.force?i("Prompt",{attrs:{path:"prompt.WarningDeleteAttribute","alert-class":"alert-danger"}},[i("strong",[t._v(t._s(t.$t("label.Warning")))])]):t._e()],1)}),[],!1,null,null,null);e.default=a.exports}}]);