/*!
 * WebIssues v2.0.2
 * Copyright (C) 2007-2020 WebIssues Team
 * License: Affero GPL v3.0
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{368:function(t,e,r){"use strict";r.r(e);var s=r(349),i=r(348);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a={props:{mode:String,projectId:Number,userId:Number,projectName:String,userName:String,initialAccess:Number,members:Array},fields:function(){return{access:{value:this.initialAccess,type:Number}}},data:function(){return{normalAccess:i.a.NormalAccess,administratorAccess:i.a.AdministratorAccess,selectedUsers:[]}},computed:n(n({},Object(s.c)("global",["users"])),{},{title:function(){return"edit"==this.mode?this.$t("cmd.EditMember"):"add"==this.mode?this.$t("cmd.AddMembers"):void 0},size:function(){return"edit"==this.mode?"small":"add"==this.mode?"normal":void 0},canEdit:function(){return"add"==this.mode||this.$store.state.global.userAccess==i.a.AdministratorAccess||this.userId!=this.$store.state.global.userId},availableUsers:function(){var t=this;return null!=this.members?this.users.filter((function(e){return t.members.every((function(t){return t.id!=e.id}))})):[]}}),methods:{removeMember:function(){this.$router.push("RemoveMember",{projectId:this.projectId,userId:this.userId})},selectAll:function(t){this.selectedUsers=this.availableUsers.map((function(e){return t}))},submit:function(){var t=this;if(this.$fields.validate())if("edit"!=this.mode||this.$fields.modified()){var e={projectId:this.projectId};if("edit"==this.mode)e.users=[this.userId];else for(var r in e.users=[],this.selectedUsers)this.selectedUsers[r]&&e.users.push(this.availableUsers[r].id);e.access=this.access,0!=e.users.length?(this.$form.block(),this.$ajax.post("/projects/members/edit.php",e).then((function(e){e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))):this.returnToDetails()}else this.returnToDetails()},returnToDetails:function(){this.$router.push("ProjectPermissions",{projectId:this.projectId})}}},l=r(347),d=Object(l.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.title,size:t.size,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails},scopedSlots:t._u([{key:"header",fn:function(){return["edit"==t.mode&&t.canEdit?r("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.removeMember}},[r("span",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Remove"))+"\n    ")]):t._e()]},proxy:!0}])},[t._v(" "),"edit"==t.mode?r("Prompt",{attrs:{path:"prompt.EditMember"}},[r("strong",[t._v(t._s(t.projectName))]),r("strong",[t._v(t._s(t.userName))])]):"add"==t.mode?r("Prompt",{attrs:{path:"prompt.AddMembers"}},[r("strong",[t._v(t._s(t.projectName))])]):t._e(),t._v(" "),"add"==t.mode&&t.availableUsers.length>0?r("Panel",{attrs:{title:t.$t("title.Users")},scopedSlots:t._u([{key:"heading",fn:function(){return[r("div",{staticClass:"panel-links"},[r("HyperLink",{on:{click:function(e){return t.selectAll(!0)}}},[t._v(t._s(t.$t("cmd.SelectAll")))]),t._v(" "),r("HyperLink",{on:{click:function(e){return t.selectAll(!1)}}},[t._v(t._s(t.$t("cmd.UnselectAll")))])],1)]},proxy:!0}],null,!1,1824297498)},[t._v(" "),r("div",{staticClass:"row checkbox-group"},t._l(t.availableUsers,(function(e,s){return r("div",{key:e.id,staticClass:"col-xs-12 col-md-4"},[r("div",{staticClass:"checkbox"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedUsers[s],expression:"selectedUsers[ index ]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectedUsers[s])?t._i(t.selectedUsers[s],null)>-1:t.selectedUsers[s]},on:{change:function(e){var r=t.selectedUsers[s],i=e.target,o=!!i.checked;if(Array.isArray(r)){var n=t._i(r,null);i.checked?n<0&&t.$set(t.selectedUsers,s,r.concat([null])):n>-1&&t.$set(t.selectedUsers,s,r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.selectedUsers,s,o)}}}),t._v(" "+t._s(e.name))])])])})),0)]):"add"==t.mode?r("Prompt",{attrs:{path:"info.NoAvailableUsers","alert-class":"alert-warning"}}):t._e(),t._v(" "),t.canEdit?r("FormGroup",{attrs:{label:t.$t("title.Access"),required:""}},[r("div",{staticClass:"radio"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.access,expression:"access"}],attrs:{type:"radio"},domProps:{value:t.normalAccess,checked:t._q(t.access,t.normalAccess)},on:{change:function(e){t.access=t.normalAccess}}}),t._v(" "+t._s(t.$t("text.RegularMember")))])]),t._v(" "),r("div",{staticClass:"radio"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.access,expression:"access"}],attrs:{type:"radio"},domProps:{value:t.administratorAccess,checked:t._q(t.access,t.administratorAccess)},on:{change:function(e){t.access=t.administratorAccess}}}),t._v(" "+t._s(t.$t("text.ProjectAdministrator")))])])]):r("Prompt",{attrs:{path:"error.CannotEditOwnAcess","alert-class":"alert-warning"}})],1)}),[],!1,null,null,null);e.default=d.exports},381:function(t,e,r){"use strict";r.r(e);var s=r(349);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={props:{projects:Array},computed:o(o({},Object(s.b)("global",["isAdministrator"])),{},{columns:function(){return{name:{title:this.$t("title.Name"),class:"column-large"},access:{title:this.$t("title.Access")}}}}),methods:{addProject:function(){this.$router.push("AddProject")},projectsArchive:function(){this.$router.push("ProjectsArchive")},rowClick:function(t){this.$router.push("ProjectDetails",{projectId:this.projects[t].id})}}},a=r(347),l=Object(a.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.$t("title.Projects"),"auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[t.isAdministrator?r("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addProject}},[r("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add")))]):t._e(),t._v(" "),t.isAdministrator?r("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.projectsArchive}},[r("span",{staticClass:"fa fa-archive",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("title.Archive")))]):t._e()]},proxy:!0}])},[t._v(" "),t.projects.length>0?r("Grid",{attrs:{items:t.projects,columns:t.columns},on:{"row-click":t.rowClick},scopedSlots:t._u([{key:"access-cell",fn:function(e){var r=e.item;return[t._v("\n      "+t._s(r.public?t.$t("text.PublicProject"):t.$t("text.RegularProject"))+"\n    ")]}}],null,!1,1540009995)}):r("Prompt",{attrs:{path:t.isAdministrator?"info.NoProjects":"info.NoAvailableProjects"}})],1)}),[],!1,null,null,null);e.default=l.exports},411:function(t,e,r){"use strict";r.r(e);var s=r(348),i={props:{projectId:Number,userId:Number,projectName:String,userName:String},methods:{submit:function(){var t=this;this.$form.block(),this.$ajax.post("/projects/members/edit.php",{projectId:this.projectId,users:[this.userId],access:s.a.NoAccess}).then((function(e){e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("ProjectPermissions",{projectId:this.projectId})}}},o=r(347),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.$t("cmd.RemoveMember"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[r("Prompt",{attrs:{path:"prompt.RemoveMember"}},[r("strong",[t._v(t._s(t.userName))]),r("strong",[t._v(t._s(t.projectName))])])],1)}),[],!1,null,null,null);e.default=n.exports},412:function(t,e,r){"use strict";r.r(e);var s={props:{projects:Array},computed:{breadcrumbs:function(){return[{label:this.$t("title.Projects"),route:"ManageProjects"}]},columns:function(){return{name:{title:this.$t("title.Name"),class:"column-large"}}}},methods:{rowClick:function(t){this.$router.push("ProjectDetailsArchive",{projectId:this.projects[t].id})}}},i=r(347),o=Object(i.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("BaseForm",{attrs:{title:this.$t("title.ProjectsArchive"),breadcrumbs:this.breadcrumbs,"auto-close":"","save-position":""}},[this.projects.length>0?e("Grid",{attrs:{items:this.projects,columns:this.columns},on:{"row-click":this.rowClick}}):e("Prompt",{attrs:{path:"info.NoArchivedProjects"}})],1)}),[],!1,null,null,null);e.default=o.exports},413:function(t,e,r){"use strict";r.r(e);var s=r(349),i=r(348);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a={props:{projectId:Number,name:String,public:Boolean,members:Array},computed:n(n({},Object(s.c)("global",["users"])),{},{breadcrumbs:function(){return[{label:this.$t("title.Projects"),route:"ManageProjects"},{label:this.name,route:"ProjectDetails",params:{projectId:this.projectId}}]},globalAccess:function(){return this.public?this.$t("text.PublicProject"):this.$t("text.RegularProject")},sortedMembers:function(){var t=this;return this.users.map((function(e){return t.members.find((function(t){return t.id==e.id}))})).filter((function(t){return null!=t}))},columns:function(){return{name:{title:this.$t("title.Name"),class:"column-large"},access:{title:this.$t("title.Access")}}}}),methods:{getName:function(t){var e=this.users.find((function(e){return e.id==t.id}));if(null!=e)return e.name},getAccess:function(t){return t.access==i.a.NormalAccess?this.$t("text.RegularMember"):t.access==i.a.AdministratorAccess?this.$t("text.ProjectAdministrator"):void 0},editAccess:function(){this.$router.push("EditProjectAccess",{projectId:this.projectId})},addMembers:function(){this.$router.push("AddMembers",{projectId:this.projectId})},rowClick:function(t){this.$router.push("EditMember",{projectId:this.projectId,userId:this.sortedMembers[t].id})}}},l=r(347),d=Object(l.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.$t("title.ProjectPermissions"),breadcrumbs:t.breadcrumbs,"auto-close":"","save-position":""}},[r("FormSection",{attrs:{title:t.$t("title.GlobalAccess")}},[r("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.editAccess}},[r("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))])]),t._v(" "),r("div",{staticClass:"alert alert-default"},[t._v("\n    "+t._s(t.globalAccess)+"\n  ")]),t._v(" "),r("FormSection",{attrs:{title:t.$t("title.Members")}},[r("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addMembers}},[r("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add")))])]),t._v(" "),t.sortedMembers.length>0?r("Grid",{attrs:{items:t.sortedMembers,columns:t.columns},on:{"row-click":t.rowClick},scopedSlots:t._u([{key:"name-cell",fn:function(e){var r=e.item;return[t._v("\n      "+t._s(t.getName(r))+"\n    ")]}},{key:"access-cell",fn:function(e){var r=e.item;return[t._v("\n      "+t._s(t.getAccess(r))+"\n    ")]}}],null,!1,4168355689)}):r("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoMembers"))+"\n  ")])],1)}),[],!1,null,null,null);e.default=d.exports},415:function(t,e,r){"use strict";r.r(e);var s=r(349);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={props:{projectId:Number,name:String,description:Object},computed:o(o({},Object(s.c)("global",["users"])),{},{breadcrumbs:function(){return[{label:this.$t("title.Projects"),route:"ManageProjects"},{label:this.$t("title.ProjectsArchive"),route:"ProjectsArchive"}]},descriptionModifiedByName:function(){var t=this;if(null!=this.description){var e=this.users.find((function(e){return e.id==t.description.modifiedBy}));if(null!=e)return e.name}return null},descriptionModifiedDate:function(){return null!=this.description?this.$formatter.formatStamp(this.description.modifiedDate):null}}),methods:{restoreProject:function(){this.$router.push("RestoreProject",{projectId:this.projectId})},renameProject:function(){this.$router.push("RenameProjectArchive",{projectId:this.projectId})},deleteProject:function(){this.$router.push("DeleteProjectArchive",{projectId:this.projectId})}}},a=r(347),l=Object(a.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.name,breadcrumbs:t.breadcrumbs,"auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[r("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[r("li",[r("HyperLink",{on:{click:t.restoreProject}},[r("span",{staticClass:"fa fa-undo",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.RestoreProject")))])],1),t._v(" "),r("li",[r("HyperLink",{on:{click:t.renameProject}},[r("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.RenameProject")))])],1),t._v(" "),r("li",[r("HyperLink",{on:{click:t.deleteProject}},[r("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteProject")))])],1)])]},proxy:!0}])},[t._v(" "),r("FormSection",{attrs:{title:t.$t("title.Description")}}),t._v(" "),null!=t.description?r("div",{staticClass:"description-panel"},[r("div",{directives:[{name:"hljs",rawName:"v-hljs",value:t.description.text,expression:"description.text"}],staticClass:"formatted-text"}),t._v(" "),r("div",{staticClass:"last-edited"},[r("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.descriptionModifiedDate)+" — "+t._s(t.descriptionModifiedByName)+"\n      ")])]):r("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoProjectDescription"))+"\n  ")])],1)}),[],!1,null,null,null);e.default=l.exports},416:function(t,e,r){"use strict";r.r(e);var s=r(349),i=r(348);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a={props:{projectId:Number,name:String,access:Number,description:Object,folders:Array},computed:n(n(n({},Object(s.c)("global",["types","users"])),Object(s.b)("global",["isAdministrator"])),{},{breadcrumbs:function(){return[{label:this.$t("title.Projects"),route:"ManageProjects"}]},isProjectAdministrator:function(){return this.access==i.a.AdministratorAccess},descriptionModifiedByName:function(){var t=this;if(null!=this.description){var e=this.users.find((function(e){return e.id==t.description.modifiedBy}));if(null!=e)return e.name}return null},descriptionModifiedDate:function(){return null!=this.description?this.$formatter.formatStamp(this.description.modifiedDate):null},columns:function(){return{name:{title:this.$t("title.Name"),class:"column-large"},type:{title:this.$t("title.Type")}}}}),methods:{getType:function(t){var e=this.types.find((function(e){return e.id==t.typeId}));if(null!=e)return e.name},renameProject:function(){this.$router.push("RenameProject",{projectId:this.projectId})},archiveProject:function(){this.$router.push("ArchiveProject",{projectId:this.projectId})},deleteProject:function(){this.$router.push("DeleteProject",{projectId:this.projectId})},projectPermissions:function(){this.$router.push("ProjectPermissions",{projectId:this.projectId})},addDescription:function(){this.$router.push("AddProjectDescription",{projectId:this.projectId})},editDescription:function(){this.$router.push("EditProjectDescription",{projectId:this.projectId})},deleteDescription:function(){this.$router.push("DeleteProjectDescription",{projectId:this.projectId})},addFolder:function(){this.$router.push("AddFolder",{projectId:this.projectId})},rowClick:function(t){this.$router.push("RenameFolder",{projectId:this.projectId,folderId:this.folders[t].id})}}},l=r(347),d=Object(l.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.name,breadcrumbs:t.breadcrumbs,"auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[t.isProjectAdministrator?r("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.projectPermissions}},[r("span",{staticClass:"fa fa-unlock-alt",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("title.Permissions")))]):t._e(),t._v(" "),t.isAdministrator?r("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[r("li",[r("HyperLink",{on:{click:t.renameProject}},[r("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.RenameProject")))])],1),t._v(" "),r("li",[r("HyperLink",{on:{click:t.archiveProject}},[r("span",{staticClass:"fa fa-archive",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.ArchiveProject")))])],1),t._v(" "),r("li",[r("HyperLink",{on:{click:t.deleteProject}},[r("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteProject")))])],1)]):t._e()]},proxy:!0}])},[t._v(" "),r("FormSection",{attrs:{title:t.$t("title.Description")}},[t.isProjectAdministrator&&null!=t.description?r("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.Menu")}},[r("li",[r("HyperLink",{on:{click:t.editDescription}},[r("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))])],1),t._v(" "),r("li",[r("HyperLink",{on:{click:t.deleteDescription}},[r("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Delete")))])],1)]):t.isProjectAdministrator?r("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("cmd.AddDescription")},on:{click:t.addDescription}},[r("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n    ")]):t._e()],1),t._v(" "),null!=t.description?r("div",{staticClass:"description-panel"},[r("div",{directives:[{name:"hljs",rawName:"v-hljs",value:t.description.text,expression:"description.text"}],staticClass:"formatted-text"}),t._v(" "),r("div",{staticClass:"last-edited"},[r("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.descriptionModifiedDate)+" — "+t._s(t.descriptionModifiedByName)+"\n      ")])]):r("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoProjectDescription"))+"\n  ")]),t._v(" "),r("FormSection",{attrs:{title:t.$t("title.Folders")}},[t.isProjectAdministrator?r("button",{staticClass:"btn btn-success",attrs:{type:"button",title:t.$t("cmd.AddFolder")},on:{click:t.addFolder}},[r("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n    ")]):t._e()]),t._v(" "),t.folders.length>0?r("Grid",{attrs:{items:t.folders,columns:t.columns,"row-click-disabled":!t.isProjectAdministrator},on:{"row-click":t.rowClick},scopedSlots:t._u([{key:"type-cell",fn:function(e){var r=e.item;return[t._v("\n      "+t._s(t.getType(r))+"\n    ")]}}],null,!1,1922594921)}):r("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoFolders"))+"\n  ")])],1)}),[],!1,null,null,null);e.default=d.exports},417:function(t,e,r){"use strict";r.r(e);var s=r(348),i={props:{initialProjectId:Number,folderId:Number,name:String,projects:Array},fields:function(){return{projectId:{value:this.initialProjectId,type:Number,required:!0,requiredError:this.$t("error.NoProjectSelected")}}},methods:{submit:function(){var t=this;if(this.$fields.validate())if(this.$fields.modified()){var e={folderId:this.folderId,projectId:this.projectId};this.$form.block(),this.$ajax.post("/projects/folders/move.php",e).then((function(e){e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){e.reason==s.m.APIError&&e.errorCode==s.f.FolderAlreadyExists?(t.$form.unblock(),t.projectIdError=t.$t("ErrorCode."+e.errorCode),t.$nextTick((function(){t.$refs.projectId.focus()}))):t.$form.error(e)}))}else this.returnToDetails()},returnToDetails:function(){this.$router.push("ProjectDetails",{projectId:this.initialProjectId})}}},o=r(347),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.$t("cmd.MoveFolder"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[r("Prompt",{attrs:{path:"prompt.MoveFolder"}},[r("strong",[t._v(t._s(t.name))])]),t._v(" "),r("FormGroup",t._b({attrs:{label:t.$t("label.Project")}},"FormGroup",t.$field("projectId"),!1),[r("LocationFilters",{ref:"projectId",attrs:{projectId:t.projectId,projects:t.projects,"require-admin":""},on:{"update:projectId":function(e){t.projectId=e},"update:project-id":function(e){t.projectId=e}}})],1)],1)}),[],!1,null,null,null);e.default=n.exports},419:function(t,e,r){"use strict";r.r(e);var s={props:{mode:String,projectId:Number,projectName:String,initialDescription:String,initialFormat:Number},fields:function(){return{description:{value:this.initialDescription,type:String,required:!0,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},descriptionFormat:{value:this.initialFormat,type:Number}}},computed:{title:function(){return"edit"==this.mode?this.$t("cmd.EditDescription"):"add"==this.mode?this.$t("cmd.AddDescription"):void 0}},methods:{submit:function(){var t=this;if(this.$fields.validate())if("edit"!=this.mode||this.$fields.modified()){var e={projectId:this.projectId,description:this.description,descriptionFormat:this.descriptionFormat};this.$form.block(),this.$ajax.post("/projects/description/"+this.mode+".php",e).then((function(){t.returnToDetails()})).catch((function(e){t.$form.error(e)}))}else this.returnToDetails()},returnToDetails:function(){this.$router.push("ProjectDetails",{projectId:this.projectId})}},mounted:function(){this.$refs.description.focus()}},i=r(347),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["edit"==t.mode?r("Prompt",{attrs:{path:"prompt.EditProjectDescription"}},[r("strong",[t._v(t._s(t.projectName))])]):"add"==t.mode?r("Prompt",{attrs:{path:"prompt.AddProjectDescription"}},[r("strong",[t._v(t._s(t.projectName))])]):t._e(),t._v(" "),r("MarkupEditor",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description"),format:t.descriptionFormat},on:{"update:format":function(e){t.descriptionFormat=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"MarkupEditor",t.$field("description"),!1))],1)}),[],!1,null,null,null);e.default=o.exports},420:function(t,e,r){"use strict";r.r(e);r(348);var s={props:{projectId:Number,name:String,initialPublic:Boolean},fields:function(){return{isPublic:{value:this.initialPublic,type:Boolean}}},methods:{submit:function(){var t=this;if(this.$fields.validate())if(this.$fields.modified()){var e={projectId:this.projectId,isPublic:this.isPublic};this.$form.block(),this.$ajax.post("/projects/access.php",e).then((function(e){e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))}else this.returnToDetails()},returnToDetails:function(){this.$router.push("ProjectPermissions",{projectId:this.projectId})}}},i=r(347),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.$t("title.GlobalAccess"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[r("Prompt",{attrs:{path:"prompt.EditProjectAccess"}},[r("strong",[t._v(t._s(t.name))])]),t._v(" "),r("FormGroup",{attrs:{label:t.$t("label.Access"),required:""}},[r("div",{staticClass:"radio"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.isPublic,expression:"isPublic"}],attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.isPublic,!1)},on:{change:function(e){t.isPublic=!1}}}),t._v(" "+t._s(t.$t("text.RegularProject")))])]),t._v(" "),r("div",{staticClass:"radio"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.isPublic,expression:"isPublic"}],attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.isPublic,!0)},on:{change:function(e){t.isPublic=!0}}}),t._v(" "+t._s(t.$t("text.PublicProject")))])])])],1)}),[],!1,null,null,null);e.default=o.exports},421:function(t,e,r){"use strict";r.r(e);var s=r(348),i={props:{mode:String,projectId:Number,initialName:String,initialFormat:Number,archive:{type:Boolean,default:!1}},fields:function(){return{name:{value:this.initialName,type:String,required:!0,maxLength:s.l.Name},description:{condition:"add"==this.mode,type:String,required:!1,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},descriptionFormat:{value:this.initialFormat,type:Number}}},computed:{title:function(){return"rename"==this.mode?this.$t("cmd.RenameProject"):"add"==this.mode?this.$t("cmd.AddProject"):void 0},size:function(){return"rename"==this.mode?"small":"add"==this.mode?"normal":void 0}},methods:{submit:function(){var t=this;if(this.$fields.validate())if("rename"!=this.mode||this.$fields.modified()){var e={};"rename"==this.mode&&(e.projectId=this.projectId),e.name=this.name,"add"==this.mode&&(e.description=this.description,e.descriptionFormat=this.descriptionFormat),this.$form.block(),this.$ajax.post("/projects/"+(this.archive?"archive/":"")+this.mode+".php",e).then((function(e){var r=e.projectId;e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails(r)})).catch((function(e){e.reason==s.m.APIError&&e.errorCode==s.f.ProjectAlreadyExists?(t.$form.unblock(),t.nameError=t.$t("ErrorCode."+e.errorCode),t.$nextTick((function(){t.$refs.name.focus()}))):t.$form.error(e)}))}else this.returnToDetails(this.projectId)},cancel:function(){"rename"==this.mode?this.returnToDetails(this.projectId):this.archive?this.$router.push("ManageProjectsArchive"):this.$router.push("ManageProjects")},returnToDetails:function(t){this.archive?this.$router.push("ProjectDetailsArchive",{projectId:t}):this.$router.push("ProjectDetails",{projectId:t})}},mounted:function(){this.$refs.name.focus()}},o=r(347),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.title,size:t.size,"with-buttons":""},on:{ok:t.submit,cancel:t.cancel}},["rename"==t.mode?r("Prompt",{attrs:{path:"prompt.RenameProject"}},[r("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?r("Prompt",{attrs:{path:"prompt.AddProject"}}):t._e(),t._v(" "),r("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),"add"==t.mode?r("MarkupEditor",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description"),format:t.descriptionFormat},on:{"update:format":function(e){t.descriptionFormat=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"MarkupEditor",t.$field("description"),!1)):t._e()],1)}),[],!1,null,null,null);e.default=n.exports},423:function(t,e,r){"use strict";r.r(e);var s=r(349),i=r(348),o=r(352);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={props:{mode:String,projectId:Number,projectName:String,folderId:Number,initialName:String},data:function(){return{typesFilter:""}},fields:function(){return{name:{value:this.initialName,type:String,required:!0,maxLength:i.l.Name},typeId:{condition:"add"==this.mode,type:Number,required:!0,requiredError:this.$t("error.NoTypeSelected")}}},computed:c(c({},Object(s.c)("global",["types"])),{},{filteredTypes:function(){return Object(o.a)(this.types,this.typesFilter)},title:function(){return"rename"==this.mode?this.$t("cmd.RenameFolder"):"add"==this.mode?this.$t("cmd.AddFolder"):void 0},type:function(){var t=this;return null!=this.typeId?this.types.find((function(e){return e.id==t.typeId})):null},typeName:function(){return null!=this.type?this.type.name:this.$t("text.SelectType")},typeTitle:function(){return null!=this.type?this.$t("text.Type",[this.typeName]):this.$t("text.SelectType")}}),methods:{moveFolder:function(){this.$router.push("MoveFolder",{projectId:this.projectId,folderId:this.folderId})},deleteFolder:function(){this.$router.push("DeleteFolder",{projectId:this.projectId,folderId:this.folderId})},selectType:function(t){this.typeId=null!=t?t.id:null},submit:function(){var t=this;if(this.$fields.validate())if("rename"!=this.mode||this.$fields.modified()){var e={};"add"==this.mode?e.projectId=this.projectId:e.folderId=this.folderId,e.name=this.name,"add"==this.mode&&(e.typeId=this.typeId),this.$form.block(),this.$ajax.post("/projects/folders/"+this.mode+".php",e).then((function(e){e.folderId;e.changed&&t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){e.reason==i.m.APIError&&e.errorCode==i.f.FolderAlreadyExists?(t.$form.unblock(),t.nameError=t.$t("ErrorCode."+e.errorCode),t.$nextTick((function(){t.$refs.name.focus()}))):t.$form.error(e)}))}else this.returnToDetails()},returnToDetails:function(){this.$router.push("ProjectDetails",{projectId:this.projectId})}},mounted:function(){this.$refs.name.focus()}},d=r(347),u=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.title,size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails},scopedSlots:t._u([{key:"header",fn:function(){return["rename"==t.mode?r("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[r("li",[r("HyperLink",{on:{click:t.moveFolder}},[r("span",{staticClass:"fa fa-exchange",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.MoveFolder")))])],1),t._v(" "),r("li",[r("HyperLink",{on:{click:t.deleteFolder}},[r("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteFolder")))])],1)]):t._e()]},proxy:!0}])},[t._v(" "),"rename"==t.mode?r("Prompt",{attrs:{path:"prompt.RenameFolder"}},[r("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?r("Prompt",{attrs:{path:"prompt.AddFolder"}},[r("strong",[t._v(t._s(t.projectName))])]):t._e(),t._v(" "),r("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),"add"==t.mode?r("FormGroup",t._b({attrs:{label:t.$t("label.Type")}},"FormGroup",t.$field("typeId"),!1),[r("div",{staticClass:"dropdown-filters"},[r("DropdownFilterButton",{ref:"type",attrs:{"fa-class":"fa-table",text:t.typeName,title:t.typeTitle,filter:t.typesFilter},on:{"update:filter":function(e){t.typesFilter=e}}},[r("li",{class:{active:null==t.type}},[r("HyperLink",{on:{click:function(e){return t.selectType(null)}}},[t._v(t._s(t.$t("text.SelectType")))])],1),t._v(" "),t.filteredTypes.length>0?[r("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),t._l(t.filteredTypes,(function(e){return r("li",{key:e.id,class:{active:null!=t.type&&e.id==t.type.id}},[r("HyperLink",{on:{click:function(r){return t.selectType(e)}}},[t._v(t._s(e.name))])],1)}))]:t._e()],2)],1)]):t._e()],1)}),[],!1,null,null,null);e.default=u.exports},424:function(t,e,r){"use strict";r.r(e);var s={props:{projectId:Number,projectName:String},methods:{submit:function(){var t=this;this.$form.block(),this.$ajax.post("/projects/description/delete.php",{projectId:this.projectId}).then((function(){t.returnToDetails()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("ProjectDetails",{projectId:this.projectId})}}},i=r(347),o=Object(i.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("BaseForm",{attrs:{title:this.$t("cmd.DeleteDescription"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.DeleteProjectDescription"}},[e("strong",[this._v(this._s(this.projectName))])])],1)}),[],!1,null,null,null);e.default=o.exports},425:function(t,e,r){"use strict";r.r(e);var s=r(348),i={props:{mode:String,projectId:Number,name:String,folders:Array,archive:{type:Boolean,default:!1}},data:function(){return{force:this.archive||null!=this.folders&&this.folders.length>0}},computed:{title:function(){return"archive"==this.mode?this.$t("cmd.ArchiveProject"):"delete"==this.mode?this.$t("cmd.DeleteProject"):"restore"==this.mode?this.$t("cmd.RestoreProject"):void 0}},methods:{submit:function(){var t=this;this.$form.block();var e={projectId:this.projectId};"delete"==this.mode&&(e.force=this.force),this.$ajax.post("/projects/"+(this.archive?"archive/":"")+this.mode+".php",e).then((function(){t.$store.commit("global/setDirty"),t.archive?t.$router.push("ProjectsArchive"):t.$router.push("ManageProjects")})).catch((function(e){e.reason==s.m.APIError&&e.errorCode==s.f.CannotDeleteProject?(t.$form.unblock(),t.force=!0):t.$form.error(e)}))},returnToDetails:function(){this.archive?this.$router.push("ProjectDetailsArchive",{projectId:this.projectId}):this.$router.push("ProjectDetails",{projectId:this.projectId})}}},o=r(347),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.title,size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["archive"==t.mode?r("Prompt",{attrs:{path:"prompt.ArchiveProject"}},[r("strong",[t._v(t._s(t.name))])]):"delete"==t.mode?r("Prompt",{attrs:{path:"prompt.DeleteProject"}},[r("strong",[t._v(t._s(t.name))])]):"restore"==t.mode?r("Prompt",{attrs:{path:"prompt.RestoreProject"}},[r("strong",[t._v(t._s(t.name))])]):t._e(),t._v(" "),"archive"==t.mode?r("Prompt",{attrs:{path:"prompt.NoteArchiveProject","alert-class":"alert-success"}},[r("strong",[t._v(t._s(t.$t("label.Note")))])]):"delete"==t.mode&&t.force?r("Prompt",{attrs:{path:"prompt.WarningDeleteProject","alert-class":"alert-danger"}},[r("strong",[t._v(t._s(t.$t("label.Warning")))])]):t._e()],1)}),[],!1,null,null,null);e.default=n.exports},426:function(t,e,r){"use strict";r.r(e);var s=r(348),i={props:{projectId:Number,folderId:Number,name:String,empty:Boolean},data:function(){return{force:!this.empty}},methods:{submit:function(){var t=this;this.$form.block();var e={folderId:this.folderId,force:this.force};this.$ajax.post("/projects/folders/delete.php",e).then((function(){t.$store.commit("global/setDirty"),t.returnToDetails()})).catch((function(e){e.reason==s.m.APIError&&e.errorCode==s.f.CannotDeleteFolder?(t.$form.unblock(),t.force=!0):t.$form.error(e)}))},returnToDetails:function(){this.$router.push("ProjectDetails",{projectId:this.projectId})}}},o=r(347),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseForm",{attrs:{title:t.$t("cmd.DeleteFolder"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[r("Prompt",{attrs:{path:"prompt.DeleteFolder"}},[r("strong",[t._v(t._s(t.name))])]),t._v(" "),t.force?r("Prompt",{attrs:{path:"prompt.WarningDeleteFolder","alert-class":"alert-danger"}},[r("strong",[t._v(t._s(t.$t("label.Warning")))])]):t._e()],1)}),[],!1,null,null,null);e.default=n.exports}}]);