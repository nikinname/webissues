/*!
 * WebIssues v2.0.2
 * Copyright (C) 2007-2020 WebIssues Team
 * License: Affero GPL v3.0
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{358:function(t,e,s){"use strict";s.r(e);var i=s(349),r=s(348);function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var o={computed:l(l(l({},Object(i.c)("events",["filter","events","totalCount"])),Object(i.b)("events",["firstIndex","lastIndex"])),{},{columns:function(){return{message:{title:this.$t("title.Message"),class:"column-large"},date:{title:this.$t("title.Date")},type:{title:this.$t("title.Type")},severity:{title:this.$t("title.Severity")}}},previousEnabled:function(){return this.firstIndex>1},nextEnabled:function(){return this.lastIndex<this.totalCount},statusText:function(){return 1==this.firstIndex&&this.lastIndex==this.totalCount?this.$t("text.EventsCount",[this.totalCount]):this.$t("text.EventsCountOf",[this.firstIndex,this.lastIndex,this.totalCount])},allFilters:function(){return[r.h.Errors,r.h.Access,r.h.Audit,r.h.Cron]},filterTitle:function(){return null!=this.filter?this.$t("text.Filter",[this.getFilterText(this.filter)]):this.$t("title.Filter")}}),methods:{getSeverity:function(t){return t.severity==r.g.Information?this.$t("text.Information"):t.severity==r.g.Warning?this.$t("text.Warning"):t.severity==r.g.Error?this.$t("text.Error"):void 0},getIcon:function(t){return t.severity==r.g.Information?"fa-info-circle text-info":t.severity==r.g.Warning?"fa-exclamation-triangle text-warning":t.severity==r.g.Error?"fa-exclamation-circle text-danger":void 0},getFilterText:function(t){return null!=t?this.$t("EventType."+t):this.$t("text.AllEvents")},setFilter:function(t){this.$store.commit("events/setFilter",{filter:t}),this.update()},previous:function(){this.$store.commit("events/setPreviousPage"),this.update()},next:function(){this.$store.commit("events/setNextPage"),this.update()},update:function(){var t=this;this.$form.block(),this.$store.dispatch("events/load").then((function(){t.$form.unblock()})).catch((function(e){t.$form.error(e)}))},rowClick:function(t){this.$router.push("EventDetails",{eventId:this.events[t].id})}}},c=s(347),u=Object(c.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BaseForm",{attrs:{title:t.$t("title.EventLog"),size:"large","auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[s("DropdownButton",{attrs:{"btn-class":null!=t.filter?"btn-primary":"btn-default","fa-class":"fa-filter","menu-class":"dropdown-menu-right",title:t.filterTitle}},[s("li",{class:{active:null==t.filter}},[s("HyperLink",{on:{click:function(e){return t.setFilter(null)}}},[t._v(t._s(t.getFilterText(null)))])],1),t._v(" "),s("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),t._l(t.allFilters,(function(e){return s("li",{key:e,class:{active:t.filter==e}},[s("HyperLink",{on:{click:function(s){return t.setFilter(e)}}},[t._v(t._s(t.getFilterText(e)))])],1)}))],2)]},proxy:!0}])},[t._v(" "),t.events.length>0?s("Grid",{attrs:{items:t.events,columns:t.columns,"footer-visible":"","previous-enabled":t.previousEnabled,"next-enabled":t.nextEnabled,"status-text":t.statusText},on:{previous:t.previous,next:t.next,"row-click":t.rowClick},scopedSlots:t._u([{key:"date-cell",fn:function(e){var s=e.item;return[t._v("\n      "+t._s(t.$formatter.formatStamp(s.date))+"\n    ")]}},{key:"type-cell",fn:function(e){var s=e.item;return[t._v("\n      "+t._s(t.$t("EventType."+s.type))+"\n    ")]}},{key:"severity-cell",fn:function(e){var i=e.item;return[s("span",{class:["fa","fa-fw",t.getIcon(i)],attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.getSeverity(i))+"\n    ")]}}],null,!1,1613717761)}):s("Prompt",{attrs:{path:"info.NoEvents"}})],1)}),[],!1,null,null,null);e.default=u.exports},359:function(t,e,s){"use strict";s.r(e);var i=s(348),r={props:{eventId:Number,details:Object},computed:{breadcrumbs:function(){return[{label:this.$t("title.EventLog"),route:"EventLog"}]},date:function(){return this.$formatter.formatStamp(this.details.date)},type:function(){return this.$t("EventType."+this.details.type)},severity:function(){return this.details.severity==i.g.Information?this.$t("text.Information"):this.details.severity==i.g.Warning?this.$t("text.Warning"):this.details.severity==i.g.Error?this.$t("text.Error"):void 0},icon:function(){return this.details.severity==i.g.Information?"fa-info-circle text-info":this.details.severity==i.g.Warning?"fa-exclamation-triangle text-warning":this.details.severity==i.g.Error?"fa-exclamation-circle text-danger":void 0}}},n=s(347),l=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("BaseForm",{attrs:{title:t.$t("title.EventDetails"),breadcrumbs:t.breadcrumbs,size:"large","auto-close":""}},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-body panel-table"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-4 col-sm-2"},[t._v(t._s(t.$t("label.Date")))]),t._v(" "),s("div",{staticClass:"col-xs-8 col-sm-10"},[t._v(t._s(t.date))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-4 col-sm-2"},[t._v(t._s(t.$t("label.Type")))]),t._v(" "),s("div",{staticClass:"col-xs-8 col-sm-10"},[t._v(t._s(t.type))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-4 col-sm-2"},[t._v(t._s(t.$t("label.Severity")))]),t._v(" "),s("div",{staticClass:"col-xs-8 col-sm-10"},[s("span",{class:["fa","fa-fw",t.icon],attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.severity))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-4 col-sm-2"},[t._v(t._s(t.$t("label.Message")))]),t._v(" "),s("div",{staticClass:"col-xs-8 col-sm-10 panel-multiline"},[t._v(t._s(t.details.message))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-4 col-sm-2"},[t._v(t._s(t.$t("label.UserName")))]),t._v(" "),s("div",{staticClass:"col-xs-8 col-sm-10"},[t._v(t._s(t.details.user))])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-xs-4 col-sm-2"},[t._v(t._s(t.$t("label.HostName")))]),t._v(" "),s("div",{staticClass:"col-xs-8 col-sm-10"},[t._v(t._s(t.details.host))])])])])])}),[],!1,null,null,null);e.default=l.exports}}]);