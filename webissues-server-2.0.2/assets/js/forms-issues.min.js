/*!
 * WebIssues v2.0.2
 * Copyright (C) 2007-2020 WebIssues Team
 * License: Affero GPL v3.0
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{353:function(t,e,i){(function(i){var s,r,n;r=[],void 0===(n="function"==typeof(s=function(){"use strict";function e(t,e,i){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){o(s.response,e,i)},s.onerror=function(){console.error("could not download file")},s.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i&&i.global===i?i:void 0,o=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype?function(t,i,o){var a=n.URL||n.webkitURL,u=document.createElement("a");i=i||t.name||"download",u.download=i,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?r(u):s(u.href)?e(t,i,o):r(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(u.href)}),4e4),setTimeout((function(){r(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,n){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,n),i);else if(s(t))e(t,i,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){r(o)}))}}:function(t,i,s,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,i,s);var o="application/octet-stream"===t.type,a=/constructor/i.test(n.HTMLElement)||n.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&a)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var d=n.URL||n.webkitURL,c=d.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout((function(){d.revokeObjectURL(c)}),4e4)}});n.saveAs=o.saveAs=o,t.exports=o})?s.apply(e,r):s)||(t.exports=n)}).call(this,i(145))},356:function(t,e,i){"use strict";i.r(e);var s=i(349);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={props:{issueId:Number,name:String},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(s.c)("global",["userEmail"])),methods:{submit:function(){var t=this;this.$form.block(),this.$ajax.post("/issues/subscribe.php",{issueId:this.issueId}).then((function(){t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},a=i(347),u=Object(a.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("cmd.Subscribe"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[i("Prompt",{attrs:{path:"prompt.SubscribeIssue"}},[i("strong",[t._v(t._s(t.name))])]),t._v(" "),null==t.userEmail?i("Prompt",{attrs:{path:"prompt.WarningNoEmailAddress","alert-class":"alert-warning"}},[i("strong",[t._v(t._s(t.$t("label.Warning")))])]):t._e()],1)}),[],!1,null,null,null);e.default=u.exports},369:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,commentId:Number},methods:{submit:function(){var t=this;this.$form.block(),this.$ajax.post("/issues/comments/delete.php",{commentId:this.commentId}).then((function(){t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(347),n=Object(r.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("BaseForm",{attrs:{title:this.$t("cmd.DeleteComment"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.DeleteComment"}},[e("strong",[this._v(this._s("#"+this.commentId))])])],1)}),[],!1,null,null,null);e.default=n.exports},374:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,issueName:String},methods:{submit:function(){var t=this;this.$form.block(),this.$ajax.post("/issues/description/delete.php",{issueId:this.issueId}).then((function(){t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(347),n=Object(r.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("BaseForm",{attrs:{title:this.$t("cmd.DeleteDescription"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.DeleteDescription"}},[e("strong",[this._v(this._s(this.issueName))])])],1)}),[],!1,null,null,null);e.default=n.exports},379:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,fileId:Number,name:String},methods:{submit:function(){var t=this;this.$form.block(),this.$ajax.post("/issues/files/delete.php",{fileId:this.fileId}).then((function(){t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(347),n=Object(r.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("BaseForm",{attrs:{title:this.$t("cmd.DeleteFile"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.DeleteFile"}},[e("strong",[this._v(this._s(this.name))])])],1)}),[],!1,null,null,null);e.default=n.exports},384:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,name:String},methods:{submit:function(){var t=this;this.$form.block(),this.$ajax.post("/issues/delete.php",{issueId:this.issueId}).then((function(){t.$store.commit("list/setDirty"),t.$form.close()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(347),n=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("cmd.DeleteIssue"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[i("Prompt",{attrs:{path:"prompt.DeleteIssue"}},[i("strong",[t._v(t._s(t.name))])]),t._v(" "),i("Prompt",{attrs:{path:"prompt.WarningDeleteIssue","alert-class":"alert-danger"}},[i("strong",[t._v(t._s(t.$t("label.Warning")))])])],1)}),[],!1,null,null,null);e.default=n.exports},389:function(t,e,i){"use strict";i.r(e);var s={props:{mode:String,issueId:Number,issueName:String,commentId:Number,initialComment:String,initialFormat:Number},fields:function(){return{comment:{value:this.initialComment,type:String,required:!0,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},commentFormat:{value:this.initialFormat,type:Number}}},computed:{title:function(){return"edit"==this.mode?this.$t("cmd.EditComment"):"add"==this.mode?this.$t("cmd.AddComment"):void 0}},methods:{submit:function(){var t=this;if(this.$fields.validate())if("edit"!=this.mode||this.$fields.modified()){var e={};"add"==this.mode?e.issueId=this.issueId:e.commentId=this.commentId,e.comment=this.comment,e.commentFormat=this.commentFormat,this.$form.block(),this.$ajax.post("/issues/comments/"+this.mode+".php",e).then((function(e){0!=e.stampId&&t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))}else this.returnToDetails(this.commentId)},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}},mounted:function(){this.$refs.comment.focus()}},r=i(347),n=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["edit"==t.mode?i("Prompt",{attrs:{path:"prompt.EditComment"}},[i("strong",[t._v(t._s("#"+t.commentId))])]):"add"==t.mode?i("Prompt",{attrs:{path:"prompt.AddComment"}},[i("strong",[t._v(t._s(t.issueName))])]):t._e(),t._v(" "),i("MarkupEditor",t._b({ref:"comment",attrs:{id:"comment",label:t.$t("label.Comment"),format:t.commentFormat},on:{"update:format":function(e){t.commentFormat=e}},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}},"MarkupEditor",t.$field("comment"),!1))],1)}),[],!1,null,null,null);e.default=n.exports},394:function(t,e,i){"use strict";i.r(e);var s={props:{mode:String,issueId:Number,issueName:String,initialDescription:String,initialFormat:Number},fields:function(){return{description:{value:this.initialDescription,type:String,required:!0,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},descriptionFormat:{value:this.initialFormat,type:Number}}},computed:{title:function(){return"edit"==this.mode?this.$t("cmd.EditDescription"):"add"==this.mode?this.$t("cmd.AddDescription"):void 0}},methods:{submit:function(){var t=this;if(this.$fields.validate())if("edit"!=this.mode||this.$fields.modified()){var e={issueId:this.issueId,description:this.description,descriptionFormat:this.descriptionFormat};this.$form.block(),this.$ajax.post("/issues/description/"+this.mode+".php",e).then((function(e){0!=e.stampId&&t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))}else this.returnToDetails()},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}},mounted:function(){this.$refs.description.focus()}},r=i(347),n=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["edit"==t.mode?i("Prompt",{attrs:{path:"prompt.EditDescription"}},[i("strong",[t._v(t._s(t.issueName))])]):"add"==t.mode?i("Prompt",{attrs:{path:"prompt.AddDescription"}},[i("strong",[t._v(t._s(t.issueName))])]):t._e(),t._v(" "),i("MarkupEditor",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description"),format:t.descriptionFormat},on:{"update:format":function(e){t.descriptionFormat=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"MarkupEditor",t.$field("description"),!1))],1)}),[],!1,null,null,null);e.default=n.exports},399:function(t,e,i){"use strict";i.r(e);var s=i(349),r=i(348),n=i(350);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={props:{mode:String,issueId:Number,issueName:String,fileId:Number,initialName:String,initialDescription:String},fields:function(){return{name:{value:this.initialName,type:String,required:!0,maxLength:r.l.FileName,parse:this.parseName},description:{value:this.initialDescription,type:String,required:!1,maxLength:r.l.FileDescription}}},data:function(){return{filePrompt:this.$t("prompt.DragFileHere"),fileError:null,dragOver:!1}},computed:a(a({},Object(s.c)("global",["settings"])),{},{title:function(){return"edit"==this.mode?this.$t("cmd.EditFile"):"add"==this.mode?this.$t("cmd.AttachFile"):void 0}}),methods:{submit:function(){var t=this;this.fileError=null;var e=null;if("add"==this.mode&&(0==this.$refs.file.files.length?this.fileError=this.$t("error.NoFileSelected"):(e=this.$refs.file.files[0]).size>this.settings.fileMaxSize&&(this.fileError=this.$t("error.FileTooLarge"))),this.$fields.validate()&&null==this.fileError)if("edit"!=this.mode||this.$fields.modified()){var i={};"add"==this.mode?i.issueId=this.issueId:i.fileId=this.fileId,i.name=this.name,i.description=this.description,this.$form.block(),this.$ajax.post("/issues/files/"+this.mode+".php",i,e).then((function(e){0!=e.stampId&&t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))}else this.returnToDetails(this.fileId)},fileChange:function(){var t=this.$refs.file.files;t.length>0&&(this.fileError=null,this.filePrompt=t[0].name,this.name=t[0].name,this.$refs.name.focus())},parseName:function(t){if("."==t.charAt(0)||/[\\/:*?"<>|]/.test(t))throw Object(n.c)(this.$t("error.InvalidFileName"));return t},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})},handleDragDrop:function(t){"dragover"==t.type?this.dragOver=!0:this.dragOver=!1}},mounted:function(){"add"==this.mode?(this.$refs.file.addEventListener("dragover",this.handleDragDrop),this.$refs.file.addEventListener("dragleave",this.handleDragDrop),this.$refs.file.addEventListener("drop",this.handleDragDrop)):this.$refs.name.focus()},beforeDestroy:function(){"add"==this.mode&&(this.$refs.file.removeEventListener("dragover",this.handleDragDrop),this.$refs.file.removeEventListener("dragleave",this.handleDragDrop),this.$refs.file.removeEventListener("drop",this.handleDragDrop))}},d=i(347),c=Object(d.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["edit"==t.mode?i("Prompt",{attrs:{path:"prompt.EditFile"}},[i("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?i("Prompt",{attrs:{path:"prompt.AttachFile"}},[i("strong",[t._v(t._s(t.issueName))])]):t._e(),t._v(" "),"add"==t.mode?i("FormGroup",{attrs:{error:t.fileError}},[i("div",{class:["form-upload",{"drag-over":t.dragOver}]},[i("input",{ref:"file",staticClass:"form-control",attrs:{id:"file",type:"file"},on:{change:t.fileChange}}),t._v(" "),i("p",[t._v(t._s(t.filePrompt))])])]):t._e(),t._v(" "),i("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.FileName")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),i("FormInput",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description")},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"FormInput",t.$field("description"),!1))],1)}),[],!1,null,null,null);e.default=c.exports},404:function(t,e,i){"use strict";i.r(e);var s=i(349),r=i(348);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={props:{mode:String,issueId:Number,typeId:Number,initialProjectId:Number,initialFolderId:Number,initialName:String,attributes:Array,initialDescription:String,initialFormat:Number},fields:function(){for(var t=this,e=null!=this.initialProjectId?this.$store.state.global.projects.find((function(e){return e.id==t.initialProjectId})):null,i=null!=e?e.folders.filter((function(e){return e.typeId==t.typeId})):null,s={name:{value:this.initialName,type:String,required:!0,maxLength:r.l.Value},folderId:{condition:"add"==this.mode||"clone"==this.mode,value:null==this.initialFolderId&&null!=i&&1==i.length?i[0].id:this.initialFolderId,type:Number,required:!0,requiredError:this.$t("error.NoFolderSelected")},description:{condition:"add"==this.mode||"clone"==this.mode,value:this.initialDescription,type:String,required:!1,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},descriptionFormat:{value:this.initialFormat,type:Number}},n=this.$store.state.global.types.find((function(e){return e.id==t.typeId})),o=function(e){var i={value:t.attributes[e].value,type:String,required:!1,maxLength:r.l.Value},o=t.attributes[e].id;if(null!=n){var a=n.attributes.find((function(t){return t.id==o}));null!=a&&(i.value=t.$formatter.convertAttributeValue(i.value,a,{multiLine:!0}),i.multiLine="TEXT"==a.type&&1==a["multi-line"],i.parse=function(e){return t.$parser.normalizeAttributeValue(e,a,t.project)})}i.focus=function(){return t.$refs.attribute[e].focus()},s["attribute"+o]=i},a=0;a<this.attributes.length;a++)o(a);return s},data:function(){return{projectId:this.getInitialProjectId()}},computed:o(o({},Object(s.c)("global",["projects","types"])),{},{title:function(){return"edit"==this.mode?this.$t("cmd.EditAttributes"):"add"==this.mode?this.$t("cmd.AddIssue"):"clone"==this.mode?this.$t("cmd.CloneIssue"):void 0},project:function(){var t=this;return null!=this.projectId?this.projects.find((function(e){return e.id==t.projectId})):null},type:function(){var t=this;return this.types.find((function(e){return e.id==t.typeId}))}}),methods:{getInitialProjectId:function(){var t=this;if(null!=this.initialProjectId)return this.initialProjectId;if(null!=this.initialFolderId){var e=this.$store.state.global.projects.find((function(e){return e.folders.some((function(e){return e.id==t.initialFolderId}))}));if(null!=e)return e.id}return null},getAttribute:function(t){return null!=this.type?this.type.attributes.find((function(e){return e.id==t})):null},getAttributeName:function(t){var e=this.getAttribute(t);return null!=e?e.name:null},isAttributeRequired:function(t){var e=this.getAttribute(t);return null!=e&&1==e.required},submit:function(){var t=this;if(this.$fields.validate())if("edit"!=this.mode||this.$fields.modified()){var e={};"edit"!=this.mode&&"clone"!=this.mode||(e.issueId=this.issueId),"add"!=this.mode&&"clone"!=this.mode&&this.name==this.initialName||(e.name=this.name),"add"!=this.mode&&"clone"!=this.mode||(e.folderId=this.folderId),e.values=[];for(var i=0;i<this.attributes.length;i++){var s=this.attributes[i].id,r=this["attribute"+s];if(r!=this.attributes[i].value){var n=this.getAttribute(s),o=this.$parser.convertAttributeValue(r,n);e.values.push({id:s,value:o})}}"add"!=this.mode&&"clone"!=this.mode||""==this.description||(e.description=this.description,e.descriptionFormat=this.descriptionFormat),this.$form.block(),this.$ajax.post("/issues/"+this.mode+".php",e).then((function(e){var i=e.issueId;0!=e.stampId&&t.$store.commit("list/setDirty"),t.returnToDetails(i)})).catch((function(e){t.$form.error(e)}))}else this.returnToDetails(this.issueId)},cancel:function(){"edit"==this.mode||"clone"==this.mode?this.returnToDetails(this.issueId):this.$form.close()},returnToDetails:function(t){this.$router.push("IssueDetails",{issueId:t})}},mounted:function(){this.$refs.name.focus()}},l=i(347),d=Object(l.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.cancel}},["edit"==t.mode?i("Prompt",{attrs:{path:"prompt.EditAttributes"}},[i("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?i("Prompt",{attrs:{path:"prompt.AddIssue"}}):"clone"==t.mode?i("Prompt",{attrs:{path:"prompt.CloneIssue"}},[i("strong",[t._v(t._s(t.initialName))])]):t._e(),t._v(" "),i("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),"add"==t.mode||"clone"==t.mode?i("FormGroup",t._b({attrs:{label:t.$t("label.Location")}},"FormGroup",t.$field("folderId"),!1),[i("LocationFilters",{ref:"folderId",attrs:{"folder-visible":"","auto-expand":"",typeId:t.typeId,projectId:t.projectId,folderId:t.folderId},on:{"update:projectId":function(e){t.projectId=e},"update:project-id":function(e){t.projectId=e},"update:folderId":function(e){t.folderId=e},"update:folder-id":function(e){t.folderId=e}}})],1):t._e(),t._v(" "),t.attributes.length>0?i("Panel",{attrs:{title:t.$t("title.Attributes")}},t._l(t.attributes,(function(e){return i("FormGroup",{key:e.id,attrs:{id:"attribute"+e.id,label:t.$t("label.Attribute",[t.getAttributeName(e.id)]),required:t.isAttributeRequired(e.id),error:t.$data["attribute"+e.id+"Error"]}},[i("ValueEditor",{ref:"attribute",refInFor:!0,attrs:{id:"attribute"+e.id,attribute:t.getAttribute(e.id),project:t.project},model:{value:t.$data["attribute"+e.id],callback:function(i){t.$set(t.$data,"attribute"+e.id,i)},expression:"$data[ 'attribute' + attribute.id ]"}})],1)})),1):t._e(),t._v(" "),"add"==t.mode||"clone"==t.mode?i("MarkupEditor",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description"),format:t.descriptionFormat},on:{"update:format":function(e){t.descriptionFormat=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"MarkupEditor",t.$field("description"),!1)):t._e()],1)}),[],!1,null,null,null);e.default=d.exports},409:function(t,e,i){"use strict";i.r(e);var s=i(348),r={fields:function(){return{item:{type:String,required:!0,maxLength:11,parse:this.parse}}},data:function(){return{itemId:null}},methods:{submit:function(){var t=this;this.$fields.validate()&&(this.$form.block(),this.$ajax.post("/issues/find.php",{itemId:this.itemId}).then((function(e){t.itemId==e?t.$router.push("IssueDetails",{issueId:e}):t.$router.push("IssueItem",{issueId:e,itemId:t.itemId})})).catch((function(e){e.reason==s.m.APIError&&e.errorCode==s.f.ItemNotFound?(t.$form.unblock(),t.itemError=t.$t("ErrorCode."+e.errorCode),t.$nextTick((function(){t.$refs.item.focus()}))):t.$form.error(e)})))},parse:function(t){return this.itemId=this.$parser.parseInteger(t.replace(/^#/,""),1),this.itemId.toString()},cancel:function(){this.$form.close()}},mounted:function(){this.$refs.item.focus()}},n=i(347),o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("cmd.GoToItem"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.cancel}},[i("Prompt",{attrs:{path:"prompt.GoToItem"}}),t._v(" "),i("FormInput",t._b({ref:"item",attrs:{id:"item",autocomplete:"off",label:t.$t("label.ID")},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},"FormInput",t.$field("item"),!1))],1)}),[],!1,null,null,null);e.default=o.exports},414:function(t,e,i){"use strict";i.r(e);var s=i(349),r=i(353),n=i.n(r);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={props:{issueId:Number,fileId:Number,name:String},data:function(){return{loaded:!1,error:!1,width:0}},computed:a(a({},Object(s.c)("global",["baseURL"])),{},{size:function(){return this.width<=676?"normal":"large"},fileURL:function(){return this.baseURL+"/client/file.php?id="+this.fileId}}),methods:{saveAs:function(){/iPad|iPhone/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?this.$router.redirect(this.fileURL):(n.a.saveAs(this.fileURL,this.name),this.returnToDetails())},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}},mounted:function(){var t=this,e=document.createElement("img");e.onload=function(){t.loaded=!0,t.width=e.width,t.$refs.image.appendChild(e)},e.onerror=function(){t.loaded=!0,t.error=!0},e.src=this.fileURL}},d=i(347),c=Object(d.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.name,size:t.size}},[t.error?i("Prompt",{attrs:{"alert-class":"alert-warning",path:"error.ImagePreviewError"}}):t._e(),t._v(" "),i("div",{ref:"image",staticClass:"issue-image"}),t._v(" "),t.loaded?t._e():i("div",{staticClass:"busy-container"},[i("div",{staticClass:"busy-spinner"},[i("span",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}})])]),t._v(" "),i("div",{staticClass:"form-buttons"},[t.loaded?i("button",{staticClass:"btn btn-primary",on:{click:t.saveAs}},[t._v(t._s(t.$t("cmd.Save")))]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-default",on:{click:t.returnToDetails}},[t._v(t._s(t.$t("cmd.Cancel")))])])],1)}),[],!1,null,null,null);e.default=c.exports},418:function(t,e,i){"use strict";i.r(e);var s=i(349),r=i(348);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={computed:o(o(o(o(o({},Object(s.c)("global",["baseURL","userId","projects","types","users","settings"])),Object(s.b)("global",["isAuthenticated"])),Object(s.c)("issue",["issueId","filter","unread","details","description"])),Object(s.b)("issue",["filteredAttributes","isItemInHistory","processedHistory"])),{},{type:function(){var t=this;return this.types.find((function(e){return e.id==t.details.typeId}))},typeName:function(){return null!=this.type?this.type.name:this.$t("text.UnknownType")},project:function(){var t=this;return this.projects.find((function(e){return e.folders.some((function(e){return e.id==t.details.folderId}))}))},projectName:function(){return null!=this.project?this.project.name:this.$t("text.UnknownProject")},folder:function(){var t=this;return null!=this.project?this.project.folders.find((function(e){return e.id==t.details.folderId})):null},folderName:function(){return null!=this.folder?this.folder.name:this.$t("text.UnknownFolder")},createdByName:function(){return this.getUserName(this.details.createdBy)},modifiedByName:function(){return this.getUserName(this.details.modifiedBy)},createdDate:function(){return this.$formatter.formatStamp(this.details.createdDate)},modifiedDate:function(){return this.$formatter.formatStamp(this.details.modifiedDate)},access:function(){return null!=this.project?this.project.access:r.a.NoAccess},canMoveDelete:function(){return this.access==r.a.AdministratorAccess},canEditDescription:function(){return this.access==r.a.AdministratorAccess||this.details.createdBy==this.userId},isDescriptionModified:function(){return null!=this.description&&(this.description.modifiedDate-this.details.createdDate>180||this.description.modifiedBy!=this.details.createdBy)},descriptionModifiedByName:function(){return null!=this.description?this.getUserName(this.description.modifiedBy):null},descriptionModifiedDate:function(){return null!=this.description?this.$formatter.formatStamp(this.description.modifiedDate):null},allFilters:function(){return[r.j.AllHistory,r.j.Comments,r.j.Files,r.j.CommentsAndFiles]},isWeb:function(){return!0}}),methods:{getAttributeName:function(t){var e=this.type.attributes.find((function(e){return e.id==t}));return null!=e?e.name:this.$t("text.UnknownAttribute")},getUserName:function(t){var e=this.users.find((function(e){return e.id==t}));return null!=e?e.name:this.$t("text.UnknownUser")},formatStamp:function(t){return this.$formatter.formatStamp(t)},formatFileSize:function(t){return this.$formatter.formatFileSize(t)},convertAttributeValue:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null!=e?this.type.attributes.find((function(t){return t.id==e})):null;return null==s&&(s={type:"TEXT"}),t=this.$formatter.convertAttributeValue(t,s,i),this.$formatter.convertLinks(t)},canEditItem:function(t){return this.access==r.a.AdministratorAccess||t.createdBy==this.userId},canReply:function(t){return this.isAuthenticated&&t.type==r.d.CommentAdded},isCommentAdded:function(t){return t.type==r.d.CommentAdded},isFileAdded:function(t){return t.type==r.d.FileAdded},isChangeList:function(t){return t.type==r.d.IssueCreated||t.type==r.d.IssueRenamed||t.type==r.d.ValueChanged},isIssueMoved:function(t){return t.type==r.d.IssueMoved},isItemModified:function(t){return null!=t.modifiedDate&&(t.modifiedDate-t.createdDate>180||t.modifiedBy!=t.createdBy)},getFilterText:function(t){switch(t){case r.j.AllHistory:return this.$t("text.History");case r.j.Comments:return this.$t("text.Comments");case r.j.Files:return this.$t("text.Files");case r.j.CommentsAndFiles:return this.$t("text.CommentsAndFiles")}},getNoItemsText:function(t){switch(t){case r.j.Comments:return this.$t("info.NoComments");case r.j.Files:return this.$t("info.NoFiles");case r.j.CommentsAndFiles:return this.$t("info.NoCommentsOrFiles")}},formatChange:function(t){var e;return e='<span class="issue-history-label">'+(e=t.type==r.d.ValueChanged?this.$t("label.Attribute",[this.$formatter.escape(this.getAttributeName(t.attributeId))]):this.$t("label.Name"))+"</span>",t.type==r.d.IssueCreated||""==t.old?e+" "+this.formatValue(t.new,t.attributeId):e+" "+this.formatValue(t.old,t.attributeId)+" &rarr; "+this.formatValue(t.new,t.attributeId)},formatIssueMoved:function(t){return'<span class="issue-history-label">'+this.$t("label.Location")+"</span>"+" "+this.formatLocation(t.fromFolderId)+" &rarr; "+this.formatLocation(t.toFolderId)},formatValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return""!=t?'<span class="issue-history-value">'+this.convertAttributeValue(t,e)+"</span>":this.$t("text.empty")},formatLocation:function(t){var e=this.projects.find((function(e){return e.folders.some((function(e){return e.id==t}))}));return null!=e?'<span class="issue-history-value">'+this.$formatter.escape(e.name)+" &mdash; "+this.$formatter.escape(e.folders.find((function(e){return e.id==t})).name)+"</span>":this.$t("text.unknown")},getFileURL:function(t){return this.baseURL+"/client/file.php?id="+t},editIssue:function(){this.$router.push("EditIssue",{issueId:this.issueId})},cloneIssue:function(){this.$router.push("CloneIssue",{issueId:this.issueId})},moveIssue:function(){this.$router.push("MoveIssue",{issueId:this.issueId})},deleteIssue:function(){this.$router.push("DeleteIssue",{issueId:this.issueId})},subscribe:function(){this.$router.push("SubscribeIssue",{issueId:this.issueId})},unsubscribe:function(){this.$router.push("UnsubscribeIssue",{issueId:this.issueId})},addDescription:function(){this.$router.push("AddDescription",{issueId:this.issueId})},replyDescription:function(){this.$router.push("ReplyDescription",{issueId:this.issueId})},editDescription:function(){this.$router.push("EditDescription",{issueId:this.issueId})},deleteDescription:function(){this.$router.push("DeleteDescription",{issueId:this.issueId})},addComment:function(){this.$router.push("AddComment",{issueId:this.issueId})},addFile:function(){this.$router.push("AddFile",{issueId:this.issueId})},replyComment:function(t){this.$router.push("ReplyComment",{issueId:this.issueId,commentId:t.id})},editItem:function(t){t.type==r.d.CommentAdded?this.$router.push("EditComment",{issueId:this.issueId,commentId:t.id}):t.type==r.d.FileAdded&&this.$router.push("EditFile",{issueId:this.issueId,fileId:t.id})},deleteItem:function(t){t.type==r.d.CommentAdded?this.$router.push("DeleteComment",{issueId:this.issueId,commentId:t.id}):t.type==r.d.FileAdded&&this.$router.push("DeleteFile",{issueId:this.issueId,fileId:t.id})},downloadFile:function(t,e){/\.(png|jpe?g|gif|bmp|ico|svg)$/i.test(e.name)&&(this.$router.push("ImagePreview",{issueId:this.issueId,fileId:e.id}),t.preventDefault())},setUnread:function(t){this.$store.commit("issue/setUnread",t),this.update()},setFilter:function(t){this.$store.commit("global/setHistoryFilter",t),this.update()},update:function(){var t=this;this.$form.block(),this.$store.dispatch("issue/load").then((function(){t.$form.unblock()})).catch((function(e){t.$form.error(e)}))}},mounted:function(){var t=this.$router.route;null!=t&&"IssueItem"==t.name&&t.params.issueId==this.issueId?this.$form.scrollToAnchor("item"+t.params.itemId):this.$form.loadPosition("/issues/"+this.issueId)},routeChanged:function(t){if(null!=t&&"IssueDetails"==t.name&&t.params.issueId==this.issueId)return this.$form.loadPosition("/issues/"+this.issueId),!0;if(null!=t&&"Item"==t.name){var e=t.params.itemId;if(e==this.issueId)return this.$form.resetPosition("/issues/"+this.issueId),this.$router.replace("IssueDetails",{issueId:this.issueId}),!0;if(this.isItemInHistory(e))return this.$form.savePosition("/issues/"+this.issueId),this.$router.replace("IssueItem",{issueId:this.issueId,itemId:e}),!0;this.$form.resetPosition("/issues/"+e)}return this.$form.savePosition("/issues/"+this.issueId),null!=t&&"IssueItem"==t.name&&t.params.issueId==this.issueId&&(this.$form.scrollToAnchor("item"+t.params.itemId),!0)}},l=i(347),d=Object(l.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.details.name,size:"large","auto-close":""},scopedSlots:t._u([{key:"header",fn:function(){return[t.isAuthenticated?i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.editIssue}},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))]):t._e(),t._v(" "),t.isAuthenticated?i("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[i("li",[i("HyperLink",{on:{click:t.cloneIssue}},[i("span",{staticClass:"fa fa-clone",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.CloneIssue")))])],1),t._v(" "),t.canMoveDelete?i("li",[i("HyperLink",{on:{click:t.moveIssue}},[i("span",{staticClass:"fa fa-exchange",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.MoveIssue")))])],1):t._e(),t._v(" "),t.canMoveDelete?i("li",[i("HyperLink",{on:{click:t.deleteIssue}},[i("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteIssue")))])],1):t._e(),t._v(" "),i("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),t.unread?i("li",[i("HyperLink",{on:{click:function(e){return t.setUnread(!1)}}},[i("span",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.MarkAsRead")))])],1):t._e(),t._v(" "),t.unread?t._e():i("li",[i("HyperLink",{on:{click:function(e){return t.setUnread(!0)}}},[i("span",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.MarkAsUnread")))])],1),t._v(" "),t.settings.subscriptions?[i("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),t.details.subscribed?i("li",[i("HyperLink",{on:{click:t.unsubscribe}},[i("span",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Unsubscribe")))])],1):i("li",[i("HyperLink",{on:{click:t.subscribe}},[i("span",{staticClass:"fa fa-envelope-o",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Subscribe")))])],1)]:t._e()],2):t._e()]},proxy:!0}])},[t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-4 col-sm-push-8"},[i("div",{staticClass:"issue-details"},[i("div",{staticClass:"issue-header"},[t._v(t._s(t.$t("title.Properties")))]),t._v(" "),i("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.ID")))]),t._v(" "),i("div",{staticClass:"issue-details-value"},[t._v("#"+t._s(t.details.id))]),t._v(" "),i("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.Type")))]),t._v(" "),i("div",{staticClass:"issue-details-value"},[t._v(t._s(t.typeName))]),t._v(" "),i("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.Location")))]),t._v(" "),i("div",{staticClass:"issue-details-value"},[t._v(t._s(t.projectName)+" — "+t._s(t.folderName))]),t._v(" "),i("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.Created")))]),t._v(" "),i("div",{staticClass:"issue-details-value"},[t._v(t._s(t.createdDate)+" — "+t._s(t.createdByName))]),t._v(" "),i("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.LastModified")))]),t._v(" "),i("div",{staticClass:"issue-details-value"},[t._v(t._s(t.modifiedDate)+" — "+t._s(t.modifiedByName))])]),t._v(" "),t.filteredAttributes.length>0?i("div",{staticClass:"issue-details"},[i("div",{staticClass:"issue-header"},[t._v(t._s(t.$t("title.Attributes")))]),t._v(" "),t._l(t.filteredAttributes,(function(e){return[i("div",{key:"t"+e.id,staticClass:"issue-details-title"},[t._v(t._s(t.getAttributeName(e.id)))]),t._v(" "),i("div",{key:"v"+e.id,staticClass:"issue-details-value",domProps:{innerHTML:t._s(t.convertAttributeValue(e.value,e.id,{multiLine:!0}))}})]}))],2):t._e()]),t._v(" "),i("div",{staticClass:"col-sm-8 col-sm-pull-4"},[i("FormSection",{attrs:{title:t.$t("title.Description")}},[t.isAuthenticated&&null!=t.description?i("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.Menu")}},[i("li",[i("HyperLink",{on:{click:t.replyDescription}},[i("span",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Reply")))])],1),t._v(" "),t.canEditDescription?i("li",[i("HyperLink",{on:{click:t.editDescription}},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))])],1):t._e(),t._v(" "),t.canEditDescription?i("li",[i("HyperLink",{on:{click:t.deleteDescription}},[i("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Delete")))])],1):t._e()]):t.canEditDescription?i("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("cmd.AddDescription")},on:{click:t.addDescription}},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n        ")]):t._e()],1),t._v(" "),null!=t.description?i("div",{staticClass:"description-panel"},[i("div",{directives:[{name:"hljs",rawName:"v-hljs",value:t.description.text,expression:"description.text"}],staticClass:"formatted-text"}),t._v(" "),t.isDescriptionModified?i("div",{staticClass:"last-edited"},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.descriptionModifiedDate)+" — "+t._s(t.descriptionModifiedByName)+"\n        ")]):t._e()]):i("div",{staticClass:"alert alert-info"},[t._v("\n        "+t._s(t.$t("info.NoDescription"))+"\n      ")]),t._v(" "),i("FormSection",{attrs:{title:t.getFilterText(t.filter)}},[t.isAuthenticated?i("button",{staticClass:"btn btn-success",attrs:{type:"button",title:t.$t("cmd.AddComment")},on:{click:t.addComment}},[i("span",{staticClass:"fa fa-comment",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n        ")]):t._e(),t._v(" "),t.isAuthenticated?i("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("cmd.AttachFile")},on:{click:t.addFile}},[i("span",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}}),t._v(" "),i("span",{staticClass:"hidden-xs auto-tooltip"},[t._v(t._s(t.$t("cmd.Attach")))])]):t._e(),t._v(" "),i("DropdownButton",{attrs:{"fa-class":"fa-cog","menu-class":"dropdown-menu-right",title:t.$t("title.Filter")}},t._l(t.allFilters,(function(e){return i("li",{key:e,class:{active:t.filter==e}},[i("HyperLink",{on:{click:function(i){return t.setFilter(e)}}},[t._v(t._s(t.getFilterText(e)))])],1)})),0)],1),t._v(" "),i("div",{staticClass:"issue-history"},[t._l(t.processedHistory,(function(e){return i("div",{key:e.id,staticClass:"issue-history-item",attrs:{id:"item"+e.id}},[t.isCommentAdded(e)||t.isFileAdded(e)?i("div",{staticClass:"issue-group"},[i("div",{staticClass:"issue-element issue-element-wide"},[i("div",{staticClass:"issue-history-title"},[t._v(t._s(t.formatStamp(e.createdDate))+" — "+t._s(t.getUserName(e.createdBy)))])]),t._v(" "),i("div",{staticClass:"issue-element"},[i("a",{staticClass:"issue-history-id",attrs:{href:"#/items/"+e.id}},[t._v("#"+t._s(e.id))]),t._v(" "),t.canReply(e)||t.canEditItem(e)?i("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.Menu")}},[t.canReply(e)?i("li",[i("HyperLink",{on:{click:function(i){return t.replyComment(e)}}},[i("span",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Reply")))])],1):t._e(),t._v(" "),t.canEditItem(e)?i("li",[i("HyperLink",{on:{click:function(i){return t.editItem(e)}}},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))])],1):t._e(),t._v(" "),t.canEditItem(e)?i("li",[i("HyperLink",{on:{click:function(i){return t.deleteItem(e)}}},[i("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Delete")))])],1):t._e()]):t._e()],1)]):i("div",{staticClass:"issue-history-title"},[t._v(t._s(t.formatStamp(e.createdDate))+" — "+t._s(t.getUserName(e.createdBy)))]),t._v(" "),t.isCommentAdded(e)?i("div",{staticClass:"issue-comment"},[i("div",{directives:[{name:"hljs",rawName:"v-hljs",value:e.text,expression:"item.text"}],staticClass:"formatted-text"}),t._v(" "),t.isItemModified(e)?i("div",{staticClass:"last-edited"},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.formatStamp(e.modifiedDate))+" — "+t._s(t.getUserName(e.modifiedBy))+"\n            ")]):t._e()]):t.isFileAdded(e)?i("div",{staticClass:"issue-attachment"},[i("span",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}}),t._v(" "),t.isWeb?i("a",{attrs:{href:t.getFileURL(e.id)},on:{click:function(i){return t.downloadFile(i,e)}}},[t._v(t._s(e.name))]):i("HyperLink",{on:{click:function(i){return t.downloadFile(i,e)}}},[t._v(t._s(e.name))]),t._v("\n            ("+t._s(t.formatFileSize(e.size))+")\n            "),e.description?i("span",{domProps:{innerHTML:t._s("&mdash; "+e.description)}}):t._e(),t._v(" "),t.isItemModified(e)?i("div",{staticClass:"last-edited"},[i("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.formatStamp(e.modifiedDate))+" — "+t._s(t.getUserName(e.modifiedBy))+"\n            ")]):t._e()],1):t.isChangeList(e)?i("ul",{staticClass:"issue-history-list"},t._l(e.changes,(function(e){return i("li",{key:e.id,domProps:{innerHTML:t._s(t.formatChange(e))}})})),0):t.isIssueMoved(e)?i("ul",{staticClass:"issue-history-list"},[i("li",{domProps:{innerHTML:t._s(t.formatIssueMoved(e))}})]):t._e()])})),t._v(" "),0==t.processedHistory.length?i("div",{staticClass:"alert alert-info"},[t._v("\n          "+t._s(t.getNoItemsText(t.filter))+"\n        ")]):t._e()],2)],1)])])}),[],!1,null,null,null);e.default=d.exports},422:function(t,e,i){"use strict";i.r(e);var s=i(349);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a={props:{read:Boolean},computed:n(n(n({},Object(s.c)("list",["totalCount"])),Object(s.b)("list",["type"])),{},{title:function(){return this.read?this.$t("cmd.MarkAllAsRead"):this.$t("cmd.MarkAllAsUnread")}}),methods:{submit:function(){var t=this;null!=this.type?(this.$form.block(),this.$store.dispatch("list/markAll",{read:this.read}).then((function(){t.$store.commit("list/setDirty"),t.$store.commit("alerts/setDirty"),t.$form.close()})).catch((function(e){t.$form.error(e)}))):this.$form.close()},cancel:function(){this.$form.close()}}},u=i(347),l=Object(u.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.title,size:"small","with-buttons":"","cancel-hidden":null==t.type},on:{ok:t.submit,cancel:t.cancel}},[null!=t.type?i("Prompt",{attrs:{path:"prompt.MarkAllIssues"}},[i("strong",[t._v(t._s(t.totalCount))]),[t._v(t._s(t.read?t.$t("text.MarkAsRead"):t.$t("text.MarkAsUnread")))]],2):i("Prompt",{attrs:{"alert-class":"alert-warning",path:"prompt.NoTypeSelected"}})],1)}),[],!1,null,null,null);e.default=l.exports},427:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,typeId:Number,initialFolderId:Number,name:String},fields:function(){return{folderId:{value:this.initialFolderId,type:Number,required:!0,requiredError:this.$t("error.NoFolderSelected")}}},data:function(){return{projectId:this.getInitialProjectId()}},methods:{getInitialProjectId:function(){var t=this;if(null!=this.initialFolderId){var e=this.$store.state.global.projects.find((function(e){return e.folders.some((function(e){return e.id==t.initialFolderId}))}));if(null!=e)return e.id}return null},submit:function(){var t=this;if(this.$fields.validate())if(this.$fields.modified()){var e={issueId:this.issueId,folderId:this.folderId};this.$form.block(),this.$ajax.post("/issues/move.php",e).then((function(e){0!=e.stampId&&t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))}else this.returnToDetails()},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(347),n=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BaseForm",{attrs:{title:t.$t("cmd.MoveIssue"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[i("Prompt",{attrs:{path:"prompt.MoveIssue"}},[i("strong",[t._v(t._s(t.name))])]),t._v(" "),i("FormGroup",t._b({attrs:{label:t.$t("label.Location")}},"FormGroup",t.$field("folderId"),!1),[i("LocationFilters",{ref:"folderId",attrs:{"require-admin":"","folder-visible":"","auto-expand":"",typeId:t.typeId,projectId:t.projectId,folderId:t.folderId},on:{"update:projectId":function(e){t.projectId=e},"update:project-id":function(e){t.projectId=e},"update:folderId":function(e){t.folderId=e},"update:folder-id":function(e){t.folderId=e}}})],1)],1)}),[],!1,null,null,null);e.default=n.exports},428:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,name:String},methods:{submit:function(){var t=this;this.$form.block(),this.$ajax.post("/issues/unsubscribe.php",{issueId:this.issueId}).then((function(){t.$store.commit("list/setDirty"),t.returnToDetails()})).catch((function(e){t.$form.error(e)}))},returnToDetails:function(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(347),n=Object(r.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("BaseForm",{attrs:{title:this.$t("cmd.Unsubscribe"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.UnsubscribeIssue"}},[e("strong",[this._v(this._s(this.name))])])],1)}),[],!1,null,null,null);e.default=n.exports}}]);