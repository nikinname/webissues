/*!
 * WebIssues v2.0.5
 * Copyright (C) 2007-2020 WebIssues Team
 * License: Affero GPL v3.0
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{109:function(t,e,r){"use strict";r.r(e);var s=r(85),i={props:{projectId:Number,folderId:Number,name:String,empty:Boolean},data(){return{force:!this.empty}},methods:{submit(){this.$form.block();const t={folderId:this.folderId,force:this.force};this.$ajax.post("/projects/folders/delete.php",t).then(()=>{this.$store.commit("global/setDirty"),this.returnToDetails()}).catch(t=>{t.reason==s.n.APIError&&t.errorCode==s.g.CannotDeleteFolder?(this.$form.unblock(),this.force=!0):this.$form.error(t)})},returnToDetails(){this.$router.push("ProjectDetails",{projectId:this.projectId})}}},o=r(84),n=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("cmd.DeleteFolder"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.DeleteFolder"}},[e("strong",[t._v(t._s(t.name))])]),t._v(" "),t.force?e("Prompt",{attrs:{path:"prompt.WarningDeleteFolder","alert-class":"alert-danger"}},[e("strong",[t._v(t._s(t.$t("label.Warning")))])]):t._e()],1)}),[],!1,null,null,null);e.default=n.exports},110:function(t,e,r){"use strict";r.r(e);var s=r(85),i={props:{mode:String,projectId:Number,name:String,folders:Array,archive:{type:Boolean,default:!1}},data(){return{force:this.archive||null!=this.folders&&this.folders.length>0}},computed:{title(){return"archive"==this.mode?this.$t("cmd.ArchiveProject"):"delete"==this.mode?this.$t("cmd.DeleteProject"):"restore"==this.mode?this.$t("cmd.RestoreProject"):void 0}},methods:{submit(){this.$form.block();const t={projectId:this.projectId};"delete"==this.mode&&(t.force=this.force),this.$ajax.post("/projects/"+(this.archive?"archive/":"")+this.mode+".php",t).then(()=>{this.$store.commit("global/setDirty"),this.archive?this.$router.push("ProjectsArchive"):this.$router.push("ManageProjects")}).catch(t=>{t.reason==s.n.APIError&&t.errorCode==s.g.CannotDeleteProject?(this.$form.unblock(),this.force=!0):this.$form.error(t)})},returnToDetails(){this.archive?this.$router.push("ProjectDetailsArchive",{projectId:this.projectId}):this.$router.push("ProjectDetails",{projectId:this.projectId})}}},o=r(84),n=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["archive"==t.mode?e("Prompt",{attrs:{path:"prompt.ArchiveProject"}},[e("strong",[t._v(t._s(t.name))])]):"delete"==t.mode?e("Prompt",{attrs:{path:"prompt.DeleteProject"}},[e("strong",[t._v(t._s(t.name))])]):"restore"==t.mode?e("Prompt",{attrs:{path:"prompt.RestoreProject"}},[e("strong",[t._v(t._s(t.name))])]):t._e(),t._v(" "),"archive"==t.mode?e("Prompt",{attrs:{path:"prompt.NoteArchiveProject","alert-class":"alert-success"}},[e("strong",[t._v(t._s(t.$t("label.Note")))])]):"delete"==t.mode&&t.force?e("Prompt",{attrs:{path:"prompt.WarningDeleteProject","alert-class":"alert-danger"}},[e("strong",[t._v(t._s(t.$t("label.Warning")))])]):t._e()],1)}),[],!1,null,null,null);e.default=n.exports},111:function(t,e,r){"use strict";r.r(e);var s={props:{projectId:Number,projectName:String},methods:{submit(){this.$form.block(),this.$ajax.post("/projects/description/delete.php",{projectId:this.projectId}).then(()=>{this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("ProjectDetails",{projectId:this.projectId})}}},i=r(84),o=Object(i.a)(s,(function(){var t=this._self._c;return t("BaseForm",{attrs:{title:this.$t("cmd.DeleteDescription"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[t("Prompt",{attrs:{path:"prompt.DeleteProjectDescription"}},[t("strong",[this._v(this._s(this.projectName))])])],1)}),[],!1,null,null,null);e.default=o.exports},112:function(t,e,r){"use strict";r.r(e);var s=r(86),i=r(85),o=r(89);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={props:{mode:String,projectId:Number,projectName:String,folderId:Number,initialName:String},data:()=>({typesFilter:""}),fields(){return{name:{value:this.initialName,type:String,required:!0,maxLength:i.m.Name},typeId:{condition:"add"==this.mode,type:Number,required:!0,requiredError:this.$t("error.NoTypeSelected")}}},computed:a(a({},Object(s.c)("global",["types"])),{},{filteredTypes(){return Object(o.a)(this.types,this.typesFilter)},title(){return"rename"==this.mode?this.$t("cmd.RenameFolder"):"add"==this.mode?this.$t("cmd.AddFolder"):void 0},type(){return null!=this.typeId?this.types.find(t=>t.id==this.typeId):null},typeName(){return null!=this.type?this.type.name:this.$t("text.SelectType")},typeTitle(){return null!=this.type?this.$t("text.Type",[this.typeName]):this.$t("text.SelectType")}}),methods:{moveFolder(){this.$router.push("MoveFolder",{projectId:this.projectId,folderId:this.folderId})},deleteFolder(){this.$router.push("DeleteFolder",{projectId:this.projectId,folderId:this.folderId})},selectType(t){this.typeId=null!=t?t.id:null},submit(){if(!this.$fields.validate())return;if("rename"==this.mode&&!this.$fields.modified())return void this.returnToDetails();const t={};"add"==this.mode?t.projectId=this.projectId:t.folderId=this.folderId,t.name=this.name,"add"==this.mode&&(t.typeId=this.typeId),this.$form.block(),this.$ajax.post("/projects/folders/"+this.mode+".php",t).then(t=>{let{folderId:e,changed:r}=t;r&&this.$store.commit("global/setDirty"),this.returnToDetails()}).catch(t=>{t.reason==i.n.APIError&&t.errorCode==i.g.FolderAlreadyExists?(this.$form.unblock(),this.nameError=this.$t("ErrorCode."+t.errorCode),this.$nextTick(()=>{this.$refs.name.focus()})):this.$form.error(t)})},returnToDetails(){this.$router.push("ProjectDetails",{projectId:this.projectId})}},mounted(){this.$refs.name.focus()}},d=r(84),u=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails},scopedSlots:t._u([{key:"header",fn:function(){return["rename"==t.mode?e("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[e("li",[e("HyperLink",{on:{click:t.moveFolder}},[e("span",{staticClass:"fa fa-exchange",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.MoveFolder")))])],1),t._v(" "),e("li",[e("HyperLink",{on:{click:t.deleteFolder}},[e("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteFolder")))])],1)]):t._e()]},proxy:!0}])},[t._v(" "),"rename"==t.mode?e("Prompt",{attrs:{path:"prompt.RenameFolder"}},[e("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?e("Prompt",{attrs:{path:"prompt.AddFolder"}},[e("strong",[t._v(t._s(t.projectName))])]):t._e(),t._v(" "),e("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),"add"==t.mode?e("FormGroup",t._b({attrs:{label:t.$t("label.Type")}},"FormGroup",t.$field("typeId"),!1),[e("div",{staticClass:"dropdown-filters"},[e("DropdownFilterButton",{ref:"type",attrs:{"fa-class":"fa-table",text:t.typeName,title:t.typeTitle,filter:t.typesFilter},on:{"update:filter":function(e){t.typesFilter=e}}},[e("li",{class:{active:null==t.type}},[e("HyperLink",{on:{click:function(e){return t.selectType(null)}}},[t._v(t._s(t.$t("text.SelectType")))])],1),t._v(" "),t.filteredTypes.length>0?[e("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),t._l(t.filteredTypes,(function(r){return e("li",{key:r.id,class:{active:null!=t.type&&r.id==t.type.id}},[e("HyperLink",{on:{click:function(e){return t.selectType(r)}}},[t._v(t._s(r.name))])],1)}))]:t._e()],2)],1)]):t._e()],1)}),[],!1,null,null,null);e.default=u.exports},113:function(t,e,r){"use strict";r.r(e);var s=r(86),i=r(85);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={props:{mode:String,projectId:Number,userId:Number,projectName:String,userName:String,initialAccess:Number,members:Array},fields(){return{access:{value:this.initialAccess,type:Number}}},data:()=>({normalAccess:i.a.NormalAccess,administratorAccess:i.a.AdministratorAccess,selectedUsers:[]}),computed:n(n({},Object(s.c)("global",["users"])),{},{title(){return"edit"==this.mode?this.$t("cmd.EditMember"):"add"==this.mode?this.$t("cmd.AddMembers"):void 0},size(){return"edit"==this.mode?"small":"add"==this.mode?"normal":void 0},canEdit(){return"add"==this.mode||this.$store.state.global.userAccess==i.a.AdministratorAccess||this.userId!=this.$store.state.global.userId},availableUsers(){return null!=this.members?this.users.filter(t=>this.members.every(e=>e.id!=t.id)):[]}}),methods:{removeMember(){this.$router.push("RemoveMember",{projectId:this.projectId,userId:this.userId})},selectAll(t){this.selectedUsers=this.availableUsers.map(e=>t)},submit(){if(!this.$fields.validate())return;if("edit"==this.mode&&!this.$fields.modified())return void this.returnToDetails();const t={projectId:this.projectId};if("edit"==this.mode)t.users=[this.userId];else{t.users=[];for(const e in this.selectedUsers)this.selectedUsers[e]&&t.users.push(this.availableUsers[e].id)}t.access=this.access,0!=t.users.length?(this.$form.block(),this.$ajax.post("/projects/members/edit.php",t).then(t=>{let{changed:e}=t;e&&this.$store.commit("global/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})):this.returnToDetails()},returnToDetails(){this.$router.push("ProjectPermissions",{projectId:this.projectId})}}},l=r(84),d=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,size:t.size,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails},scopedSlots:t._u([{key:"header",fn:function(){return["edit"==t.mode&&t.canEdit?e("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.removeMember}},[e("span",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Remove"))+"\n    ")]):t._e()]},proxy:!0}])},[t._v(" "),"edit"==t.mode?e("Prompt",{attrs:{path:"prompt.EditMember"}},[e("strong",[t._v(t._s(t.projectName))]),e("strong",[t._v(t._s(t.userName))])]):"add"==t.mode?e("Prompt",{attrs:{path:"prompt.AddMembers"}},[e("strong",[t._v(t._s(t.projectName))])]):t._e(),t._v(" "),"add"==t.mode&&t.availableUsers.length>0?e("Panel",{attrs:{title:t.$t("title.Users")},scopedSlots:t._u([{key:"heading",fn:function(){return[e("div",{staticClass:"panel-links"},[e("HyperLink",{on:{click:function(e){return t.selectAll(!0)}}},[t._v(t._s(t.$t("cmd.SelectAll")))]),t._v(" "),e("HyperLink",{on:{click:function(e){return t.selectAll(!1)}}},[t._v(t._s(t.$t("cmd.UnselectAll")))])],1)]},proxy:!0}],null,!1,1824297498)},[t._v(" "),e("div",{staticClass:"row checkbox-group"},t._l(t.availableUsers,(function(r,s){return e("div",{key:r.id,staticClass:"col-xs-12 col-md-4"},[e("div",{staticClass:"checkbox"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedUsers[s],expression:"selectedUsers[ index ]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selectedUsers[s])?t._i(t.selectedUsers[s],null)>-1:t.selectedUsers[s]},on:{change:function(e){var r=t.selectedUsers[s],i=e.target,o=!!i.checked;if(Array.isArray(r)){var n=t._i(r,null);i.checked?n<0&&t.$set(t.selectedUsers,s,r.concat([null])):n>-1&&t.$set(t.selectedUsers,s,r.slice(0,n).concat(r.slice(n+1)))}else t.$set(t.selectedUsers,s,o)}}}),t._v(" "+t._s(r.name))])])])})),0)]):"add"==t.mode?e("Prompt",{attrs:{path:"info.NoAvailableUsers","alert-class":"alert-warning"}}):t._e(),t._v(" "),t.canEdit?e("FormGroup",{attrs:{label:t.$t("title.Access"),required:""}},[e("div",{staticClass:"radio"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.access,expression:"access"}],attrs:{type:"radio"},domProps:{value:t.normalAccess,checked:t._q(t.access,t.normalAccess)},on:{change:function(e){t.access=t.normalAccess}}}),t._v(" "+t._s(t.$t("text.RegularMember")))])]),t._v(" "),e("div",{staticClass:"radio"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.access,expression:"access"}],attrs:{type:"radio"},domProps:{value:t.administratorAccess,checked:t._q(t.access,t.administratorAccess)},on:{change:function(e){t.access=t.administratorAccess}}}),t._v(" "+t._s(t.$t("text.ProjectAdministrator")))])])]):e("Prompt",{attrs:{path:"error.CannotEditOwnAcess","alert-class":"alert-warning"}})],1)}),[],!1,null,null,null);e.default=d.exports},114:function(t,e,r){"use strict";r.r(e);var s=r(85),i={props:{mode:String,projectId:Number,initialName:String,initialFormat:Number,archive:{type:Boolean,default:!1}},fields(){return{name:{value:this.initialName,type:String,required:!0,maxLength:s.m.Name},description:{condition:"add"==this.mode,type:String,required:!1,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},descriptionFormat:{value:this.initialFormat,type:Number}}},computed:{title(){return"rename"==this.mode?this.$t("cmd.RenameProject"):"add"==this.mode?this.$t("cmd.AddProject"):void 0},size(){return"rename"==this.mode?"small":"add"==this.mode?"normal":void 0}},methods:{submit(){if(!this.$fields.validate())return;if("rename"==this.mode&&!this.$fields.modified())return void this.returnToDetails(this.projectId);const t={};"rename"==this.mode&&(t.projectId=this.projectId),t.name=this.name,"add"==this.mode&&(t.description=this.description,t.descriptionFormat=this.descriptionFormat),this.$form.block(),this.$ajax.post("/projects/"+(this.archive?"archive/":"")+this.mode+".php",t).then(t=>{let{projectId:e,changed:r}=t;r&&this.$store.commit("global/setDirty"),this.returnToDetails(e)}).catch(t=>{t.reason==s.n.APIError&&t.errorCode==s.g.ProjectAlreadyExists?(this.$form.unblock(),this.nameError=this.$t("ErrorCode."+t.errorCode),this.$nextTick(()=>{this.$refs.name.focus()})):this.$form.error(t)})},cancel(){"rename"==this.mode?this.returnToDetails(this.projectId):this.archive?this.$router.push("ManageProjectsArchive"):this.$router.push("ManageProjects")},returnToDetails(t){this.archive?this.$router.push("ProjectDetailsArchive",{projectId:t}):this.$router.push("ProjectDetails",{projectId:t})}},mounted(){this.$refs.name.focus()}},o=r(84),n=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,size:t.size,"with-buttons":""},on:{ok:t.submit,cancel:t.cancel}},["rename"==t.mode?e("Prompt",{attrs:{path:"prompt.RenameProject"}},[e("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?e("Prompt",{attrs:{path:"prompt.AddProject"}}):t._e(),t._v(" "),e("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),"add"==t.mode?e("MarkupEditor",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description"),format:t.descriptionFormat},on:{"update:format":function(e){t.descriptionFormat=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"MarkupEditor",t.$field("description"),!1)):t._e()],1)}),[],!1,null,null,null);e.default=n.exports},115:function(t,e,r){"use strict";r.r(e);r(85);var s={props:{projectId:Number,name:String,initialPublic:Boolean},fields(){return{isPublic:{value:this.initialPublic,type:Boolean}}},methods:{submit(){if(!this.$fields.validate())return;if(!this.$fields.modified())return void this.returnToDetails();const t={projectId:this.projectId,isPublic:this.isPublic};this.$form.block(),this.$ajax.post("/projects/access.php",t).then(t=>{let{changed:e}=t;e&&this.$store.commit("global/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("ProjectPermissions",{projectId:this.projectId})}}},i=r(84),o=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("title.GlobalAccess"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.EditProjectAccess"}},[e("strong",[t._v(t._s(t.name))])]),t._v(" "),e("FormGroup",{attrs:{label:t.$t("label.Access"),required:""}},[e("div",{staticClass:"radio"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isPublic,expression:"isPublic"}],attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.isPublic,!1)},on:{change:function(e){t.isPublic=!1}}}),t._v(" "+t._s(t.$t("text.RegularProject")))])]),t._v(" "),e("div",{staticClass:"radio"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isPublic,expression:"isPublic"}],attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.isPublic,!0)},on:{change:function(e){t.isPublic=!0}}}),t._v(" "+t._s(t.$t("text.PublicProject")))])])])],1)}),[],!1,null,null,null);e.default=o.exports},116:function(t,e,r){"use strict";r.r(e);var s={props:{mode:String,projectId:Number,projectName:String,initialDescription:String,initialFormat:Number},fields(){return{description:{value:this.initialDescription,type:String,required:!0,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},descriptionFormat:{value:this.initialFormat,type:Number}}},computed:{title(){return"edit"==this.mode?this.$t("cmd.EditDescription"):"add"==this.mode?this.$t("cmd.AddDescription"):void 0}},methods:{submit(){if(!this.$fields.validate())return;if("edit"==this.mode&&!this.$fields.modified())return void this.returnToDetails();const t={projectId:this.projectId,description:this.description,descriptionFormat:this.descriptionFormat};this.$form.block(),this.$ajax.post("/projects/description/"+this.mode+".php",t).then(()=>{this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("ProjectDetails",{projectId:this.projectId})}},mounted(){this.$refs.description.focus()}},i=r(84),o=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["edit"==t.mode?e("Prompt",{attrs:{path:"prompt.EditProjectDescription"}},[e("strong",[t._v(t._s(t.projectName))])]):"add"==t.mode?e("Prompt",{attrs:{path:"prompt.AddProjectDescription"}},[e("strong",[t._v(t._s(t.projectName))])]):t._e(),t._v(" "),e("MarkupEditor",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description"),format:t.descriptionFormat},on:{"update:format":function(e){t.descriptionFormat=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"MarkupEditor",t.$field("description"),!1))],1)}),[],!1,null,null,null);e.default=o.exports},117:function(t,e,r){"use strict";r.r(e);var s=r(86);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a={props:{projects:Array},computed:o(o({},Object(s.b)("global",["isAdministrator"])),{},{columns(){return{name:{title:this.$t("title.Name"),class:"column-large"},access:{title:this.$t("title.Access")}}}}),methods:{addProject(){this.$router.push("AddProject")},projectsArchive(){this.$router.push("ProjectsArchive")},rowClick(t){this.$router.push("ProjectDetails",{projectId:this.projects[t].id})}}},c=r(84),l=Object(c.a)(a,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("title.Projects"),"auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[t.isAdministrator?e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addProject}},[e("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add")))]):t._e(),t._v(" "),t.isAdministrator?e("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.projectsArchive}},[e("span",{staticClass:"fa fa-archive",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("title.Archive")))]):t._e()]},proxy:!0}])},[t._v(" "),t.projects.length>0?e("Grid",{attrs:{items:t.projects,columns:t.columns},on:{"row-click":t.rowClick},scopedSlots:t._u([{key:"access-cell",fn:function(e){let{item:r}=e;return[t._v("\n      "+t._s(r.public?t.$t("text.PublicProject"):t.$t("text.RegularProject"))+"\n    ")]}}],null,!1,1540009995)}):e("Prompt",{attrs:{path:t.isAdministrator?"info.NoProjects":"info.NoAvailableProjects"}})],1)}),[],!1,null,null,null);e.default=l.exports},118:function(t,e,r){"use strict";r.r(e);var s=r(85),i={props:{initialProjectId:Number,folderId:Number,name:String,projects:Array},fields(){return{projectId:{value:this.initialProjectId,type:Number,required:!0,requiredError:this.$t("error.NoProjectSelected")}}},methods:{submit(){if(!this.$fields.validate())return;if(!this.$fields.modified())return void this.returnToDetails();const t={folderId:this.folderId,projectId:this.projectId};this.$form.block(),this.$ajax.post("/projects/folders/move.php",t).then(t=>{let{changed:e}=t;e&&this.$store.commit("global/setDirty"),this.returnToDetails()}).catch(t=>{t.reason==s.n.APIError&&t.errorCode==s.g.FolderAlreadyExists?(this.$form.unblock(),this.projectIdError=this.$t("ErrorCode."+t.errorCode),this.$nextTick(()=>{this.$refs.projectId.focus()})):this.$form.error(t)})},returnToDetails(){this.$router.push("ProjectDetails",{projectId:this.initialProjectId})}}},o=r(84),n=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("cmd.MoveFolder"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.MoveFolder"}},[e("strong",[t._v(t._s(t.name))])]),t._v(" "),e("FormGroup",t._b({attrs:{label:t.$t("label.Project")}},"FormGroup",t.$field("projectId"),!1),[e("LocationFilters",{ref:"projectId",attrs:{projectId:t.projectId,projects:t.projects,"require-admin":""},on:{"update:projectId":function(e){t.projectId=e},"update:project-id":function(e){t.projectId=e}}})],1)],1)}),[],!1,null,null,null);e.default=n.exports},119:function(t,e,r){"use strict";r.r(e);var s=r(86),i=r(85);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={props:{projectId:Number,name:String,access:Number,description:Object,folders:Array},computed:n(n(n({},Object(s.c)("global",["types","users"])),Object(s.b)("global",["isAdministrator"])),{},{breadcrumbs(){return[{label:this.$t("title.Projects"),route:"ManageProjects"}]},isProjectAdministrator(){return this.access==i.a.AdministratorAccess},descriptionModifiedByName(){if(null!=this.description){const t=this.users.find(t=>t.id==this.description.modifiedBy);if(null!=t)return t.name}return null},descriptionModifiedDate(){return null!=this.description?this.$formatter.formatStamp(this.description.modifiedDate):null},columns(){return{name:{title:this.$t("title.Name"),class:"column-large"},type:{title:this.$t("title.Type")}}}}),methods:{getType(t){const e=this.types.find(e=>e.id==t.typeId);if(null!=e)return e.name},renameProject(){this.$router.push("RenameProject",{projectId:this.projectId})},archiveProject(){this.$router.push("ArchiveProject",{projectId:this.projectId})},deleteProject(){this.$router.push("DeleteProject",{projectId:this.projectId})},projectPermissions(){this.$router.push("ProjectPermissions",{projectId:this.projectId})},addDescription(){this.$router.push("AddProjectDescription",{projectId:this.projectId})},editDescription(){this.$router.push("EditProjectDescription",{projectId:this.projectId})},deleteDescription(){this.$router.push("DeleteProjectDescription",{projectId:this.projectId})},addFolder(){this.$router.push("AddFolder",{projectId:this.projectId})},rowClick(t){this.$router.push("RenameFolder",{projectId:this.projectId,folderId:this.folders[t].id})}}},l=r(84),d=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.name,breadcrumbs:t.breadcrumbs,"auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[t.isProjectAdministrator?e("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.projectPermissions}},[e("span",{staticClass:"fa fa-unlock-alt",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("title.Permissions")))]):t._e(),t._v(" "),t.isAdministrator?e("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[e("li",[e("HyperLink",{on:{click:t.renameProject}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.RenameProject")))])],1),t._v(" "),e("li",[e("HyperLink",{on:{click:t.archiveProject}},[e("span",{staticClass:"fa fa-archive",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.ArchiveProject")))])],1),t._v(" "),e("li",[e("HyperLink",{on:{click:t.deleteProject}},[e("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteProject")))])],1)]):t._e()]},proxy:!0}])},[t._v(" "),e("FormSection",{attrs:{title:t.$t("title.Description")}},[t.isProjectAdministrator&&null!=t.description?e("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.Menu")}},[e("li",[e("HyperLink",{on:{click:t.editDescription}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))])],1),t._v(" "),e("li",[e("HyperLink",{on:{click:t.deleteDescription}},[e("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Delete")))])],1)]):t.isProjectAdministrator?e("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("cmd.AddDescription")},on:{click:t.addDescription}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n    ")]):t._e()],1),t._v(" "),null!=t.description?e("div",{staticClass:"description-panel"},[e("div",{directives:[{name:"hljs",rawName:"v-hljs",value:t.description.text,expression:"description.text"}],staticClass:"formatted-text"}),t._v(" "),e("div",{staticClass:"last-edited"},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.descriptionModifiedDate)+" — "+t._s(t.descriptionModifiedByName)+"\n      ")])]):e("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoProjectDescription"))+"\n  ")]),t._v(" "),e("FormSection",{attrs:{title:t.$t("title.Folders")}},[t.isProjectAdministrator?e("button",{staticClass:"btn btn-success",attrs:{type:"button",title:t.$t("cmd.AddFolder")},on:{click:t.addFolder}},[e("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n    ")]):t._e()]),t._v(" "),t.folders.length>0?e("Grid",{attrs:{items:t.folders,columns:t.columns,"row-click-disabled":!t.isProjectAdministrator},on:{"row-click":t.rowClick},scopedSlots:t._u([{key:"type-cell",fn:function(e){let{item:r}=e;return[t._v("\n      "+t._s(t.getType(r))+"\n    ")]}}],null,!1,1922594921)}):e("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoFolders"))+"\n  ")])],1)}),[],!1,null,null,null);e.default=d.exports},120:function(t,e,r){"use strict";r.r(e);var s=r(86);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var a={props:{projectId:Number,name:String,description:Object},computed:o(o({},Object(s.c)("global",["users"])),{},{breadcrumbs(){return[{label:this.$t("title.Projects"),route:"ManageProjects"},{label:this.$t("title.ProjectsArchive"),route:"ProjectsArchive"}]},descriptionModifiedByName(){if(null!=this.description){const t=this.users.find(t=>t.id==this.description.modifiedBy);if(null!=t)return t.name}return null},descriptionModifiedDate(){return null!=this.description?this.$formatter.formatStamp(this.description.modifiedDate):null}}),methods:{restoreProject(){this.$router.push("RestoreProject",{projectId:this.projectId})},renameProject(){this.$router.push("RenameProjectArchive",{projectId:this.projectId})},deleteProject(){this.$router.push("DeleteProjectArchive",{projectId:this.projectId})}}},c=r(84),l=Object(c.a)(a,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.name,breadcrumbs:t.breadcrumbs,"auto-close":"","save-position":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[e("li",[e("HyperLink",{on:{click:t.restoreProject}},[e("span",{staticClass:"fa fa-undo",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.RestoreProject")))])],1),t._v(" "),e("li",[e("HyperLink",{on:{click:t.renameProject}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.RenameProject")))])],1),t._v(" "),e("li",[e("HyperLink",{on:{click:t.deleteProject}},[e("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteProject")))])],1)])]},proxy:!0}])},[t._v(" "),e("FormSection",{attrs:{title:t.$t("title.Description")}}),t._v(" "),null!=t.description?e("div",{staticClass:"description-panel"},[e("div",{directives:[{name:"hljs",rawName:"v-hljs",value:t.description.text,expression:"description.text"}],staticClass:"formatted-text"}),t._v(" "),e("div",{staticClass:"last-edited"},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.descriptionModifiedDate)+" — "+t._s(t.descriptionModifiedByName)+"\n      ")])]):e("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoProjectDescription"))+"\n  ")])],1)}),[],!1,null,null,null);e.default=l.exports},121:function(t,e,r){"use strict";r.r(e);var s=r(86),i=r(85);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var c={props:{projectId:Number,name:String,public:Boolean,members:Array},computed:n(n({},Object(s.c)("global",["users"])),{},{breadcrumbs(){return[{label:this.$t("title.Projects"),route:"ManageProjects"},{label:this.name,route:"ProjectDetails",params:{projectId:this.projectId}}]},globalAccess(){return this.public?this.$t("text.PublicProject"):this.$t("text.RegularProject")},sortedMembers(){return this.users.map(t=>this.members.find(e=>e.id==t.id)).filter(t=>null!=t)},columns(){return{name:{title:this.$t("title.Name"),class:"column-large"},access:{title:this.$t("title.Access")}}}}),methods:{getName(t){const e=this.users.find(e=>e.id==t.id);if(null!=e)return e.name},getAccess(t){return t.access==i.a.NormalAccess?this.$t("text.RegularMember"):t.access==i.a.AdministratorAccess?this.$t("text.ProjectAdministrator"):void 0},editAccess(){this.$router.push("EditProjectAccess",{projectId:this.projectId})},addMembers(){this.$router.push("AddMembers",{projectId:this.projectId})},rowClick(t){this.$router.push("EditMember",{projectId:this.projectId,userId:this.sortedMembers[t].id})}}},l=r(84),d=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("title.ProjectPermissions"),breadcrumbs:t.breadcrumbs,"auto-close":"","save-position":""}},[e("FormSection",{attrs:{title:t.$t("title.GlobalAccess")}},[e("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.editAccess}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))])]),t._v(" "),e("div",{staticClass:"alert alert-default"},[t._v("\n    "+t._s(t.globalAccess)+"\n  ")]),t._v(" "),e("FormSection",{attrs:{title:t.$t("title.Members")}},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addMembers}},[e("span",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add")))])]),t._v(" "),t.sortedMembers.length>0?e("Grid",{attrs:{items:t.sortedMembers,columns:t.columns},on:{"row-click":t.rowClick},scopedSlots:t._u([{key:"name-cell",fn:function(e){let{item:r}=e;return[t._v("\n      "+t._s(t.getName(r))+"\n    ")]}},{key:"access-cell",fn:function(e){let{item:r}=e;return[t._v("\n      "+t._s(t.getAccess(r))+"\n    ")]}}],null,!1,4168355689)}):e("div",{staticClass:"alert alert-info"},[t._v("\n    "+t._s(t.$t("info.NoMembers"))+"\n  ")])],1)}),[],!1,null,null,null);e.default=d.exports},122:function(t,e,r){"use strict";r.r(e);var s={props:{projects:Array},computed:{breadcrumbs(){return[{label:this.$t("title.Projects"),route:"ManageProjects"}]},columns(){return{name:{title:this.$t("title.Name"),class:"column-large"}}}},methods:{rowClick(t){this.$router.push("ProjectDetailsArchive",{projectId:this.projects[t].id})}}},i=r(84),o=Object(i.a)(s,(function(){var t=this._self._c;return t("BaseForm",{attrs:{title:this.$t("title.ProjectsArchive"),breadcrumbs:this.breadcrumbs,"auto-close":"","save-position":""}},[this.projects.length>0?t("Grid",{attrs:{items:this.projects,columns:this.columns},on:{"row-click":this.rowClick}}):t("Prompt",{attrs:{path:"info.NoArchivedProjects"}})],1)}),[],!1,null,null,null);e.default=o.exports},123:function(t,e,r){"use strict";r.r(e);var s=r(85),i={props:{projectId:Number,userId:Number,projectName:String,userName:String},methods:{submit(){this.$form.block(),this.$ajax.post("/projects/members/edit.php",{projectId:this.projectId,users:[this.userId],access:s.a.NoAccess}).then(t=>{let{changed:e}=t;e&&this.$store.commit("global/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("ProjectPermissions",{projectId:this.projectId})}}},o=r(84),n=Object(o.a)(i,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("cmd.RemoveMember"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.RemoveMember"}},[e("strong",[t._v(t._s(t.userName))]),e("strong",[t._v(t._s(t.projectName))])])],1)}),[],!1,null,null,null);e.default=n.exports}}]);