/*!
 * WebIssues v2.0.5
 * Copyright (C) 2007-2020 WebIssues Team
 * License: Affero GPL v3.0
 */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{100:function(t,e,i){"use strict";i.r(e);var s=i(86),r=i(85),o=i(87);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d={props:{mode:String,issueId:Number,issueName:String,fileId:Number,initialName:String,initialDescription:String},fields(){return{name:{value:this.initialName,type:String,required:!0,maxLength:r.m.FileName,parse:this.parseName},description:{value:this.initialDescription,type:String,required:!1,maxLength:r.m.FileDescription}}},data(){return{filePrompt:this.$t("prompt.DragFileHere"),fileError:null,dragOver:!1}},computed:a(a({},Object(s.c)("global",["settings"])),{},{title(){return"edit"==this.mode?this.$t("cmd.EditFile"):"add"==this.mode?this.$t("cmd.AttachFile"):void 0}}),methods:{submit(){this.fileError=null;let t=null;if("add"==this.mode&&(0==this.$refs.file.files.length?this.fileError=this.$t("error.NoFileSelected"):(t=this.$refs.file.files[0],t.size>this.settings.fileMaxSize&&(this.fileError=this.$t("error.FileTooLarge")))),!this.$fields.validate()||null!=this.fileError)return;if("edit"==this.mode&&!this.$fields.modified())return void this.returnToDetails(this.fileId);const e={};"add"==this.mode?e.issueId=this.issueId:e.fileId=this.fileId,e.name=this.name,e.description=this.description,this.$form.block(),this.$ajax.post("/issues/files/"+this.mode+".php",e,t).then(t=>{let{stampId:e}=t;0!=e&&this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},fileChange(){const t=this.$refs.file.files;t.length>0&&(this.fileError=null,this.filePrompt=t[0].name,this.name=t[0].name,this.$refs.name.focus())},parseName(t){if("."==t.charAt(0)||/[\\/:*?"<>|]/.test(t))throw Object(o.c)(this.$t("error.InvalidFileName"));return t},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})},handleDragDrop(t){"dragover"==t.type?this.dragOver=!0:this.dragOver=!1}},mounted(){"add"==this.mode?(this.$refs.file.addEventListener("dragover",this.handleDragDrop),this.$refs.file.addEventListener("dragleave",this.handleDragDrop),this.$refs.file.addEventListener("drop",this.handleDragDrop)):this.$refs.name.focus()},beforeDestroy(){"add"==this.mode&&(this.$refs.file.removeEventListener("dragover",this.handleDragDrop),this.$refs.file.removeEventListener("dragleave",this.handleDragDrop),this.$refs.file.removeEventListener("drop",this.handleDragDrop))}},u=i(84),c=Object(u.a)(d,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["edit"==t.mode?e("Prompt",{attrs:{path:"prompt.EditFile"}},[e("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?e("Prompt",{attrs:{path:"prompt.AttachFile"}},[e("strong",[t._v(t._s(t.issueName))])]):t._e(),t._v(" "),"add"==t.mode?e("FormGroup",{attrs:{error:t.fileError}},[e("div",{class:["form-upload",{"drag-over":t.dragOver}]},[e("input",{ref:"file",staticClass:"form-control",attrs:{id:"file",type:"file"},on:{change:t.fileChange}}),t._v(" "),e("p",[t._v(t._s(t.filePrompt))])])]):t._e(),t._v(" "),e("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.FileName")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),e("FormInput",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description")},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"FormInput",t.$field("description"),!1))],1)}),[],!1,null,null,null);e.default=c.exports},101:function(t,e,i){"use strict";i.r(e);var s=i(86),r=i(85);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={props:{mode:String,issueId:Number,typeId:Number,initialProjectId:Number,initialFolderId:Number,initialName:String,attributes:Array,initialDescription:String,initialFormat:Number},fields(){const t=null!=this.initialProjectId?this.$store.state.global.projects.find(t=>t.id==this.initialProjectId):null,e=null!=t?t.folders.filter(t=>t.typeId==this.typeId):null,i={name:{value:this.initialName,type:String,required:!0,maxLength:r.m.Value},folderId:{condition:"add"==this.mode||"clone"==this.mode,value:null==this.initialFolderId&&null!=e&&1==e.length?e[0].id:this.initialFolderId,type:Number,required:!0,requiredError:this.$t("error.NoFolderSelected")},description:{condition:"add"==this.mode||"clone"==this.mode,value:this.initialDescription,type:String,required:!1,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},descriptionFormat:{value:this.initialFormat,type:Number}},s=this.$store.state.global.types.find(t=>t.id==this.typeId);for(let t=0;t<this.attributes.length;t++){const e={value:this.attributes[t].value,type:String,required:!1,maxLength:r.m.Value},o=this.attributes[t].id;if(null!=s){const t=s.attributes.find(t=>t.id==o);null!=t&&(e.value=this.$formatter.convertAttributeValue(e.value,t,{multiLine:!0}),e.multiLine="TEXT"==t.type&&1==t["multi-line"],e.parse=e=>this.$parser.normalizeAttributeValue(e,t,this.project))}e.focus=()=>this.$refs.attribute[t].focus(),i["attribute"+o]=e}return i},data(){return{projectId:this.getInitialProjectId()}},computed:n(n({},Object(s.c)("global",["projects","types"])),{},{title(){return"edit"==this.mode?this.$t("cmd.EditAttributes"):"add"==this.mode?this.$t("cmd.AddIssue"):"clone"==this.mode?this.$t("cmd.CloneIssue"):void 0},project(){return null!=this.projectId?this.projects.find(t=>t.id==this.projectId):null},type(){return this.types.find(t=>t.id==this.typeId)}}),methods:{getInitialProjectId(){if(null!=this.initialProjectId)return this.initialProjectId;if(null!=this.initialFolderId){const t=this.$store.state.global.projects.find(t=>t.folders.some(t=>t.id==this.initialFolderId));if(null!=t)return t.id}return null},getAttribute(t){return null!=this.type?this.type.attributes.find(e=>e.id==t):null},getAttributeName(t){const e=this.getAttribute(t);return null!=e?e.name:null},isAttributeRequired(t){const e=this.getAttribute(t);return null!=e&&1==e.required},submit(){if(!this.$fields.validate())return;if("edit"==this.mode&&!this.$fields.modified())return void this.returnToDetails(this.issueId);const t={};"edit"!=this.mode&&"clone"!=this.mode||(t.issueId=this.issueId),"add"!=this.mode&&"clone"!=this.mode&&this.name==this.initialName||(t.name=this.name),"add"!=this.mode&&"clone"!=this.mode||(t.folderId=this.folderId),t.values=[];for(let e=0;e<this.attributes.length;e++){const i=this.attributes[e].id,s=this["attribute"+i];if(s!=this.attributes[e].value){const e=this.getAttribute(i),r=this.$parser.convertAttributeValue(s,e);t.values.push({id:i,value:r})}}"add"!=this.mode&&"clone"!=this.mode||""==this.description||(t.description=this.description,t.descriptionFormat=this.descriptionFormat),this.$form.block(),this.$ajax.post("/issues/"+this.mode+".php",t).then(t=>{let{issueId:e,stampId:i}=t;0!=i&&this.$store.commit("list/setDirty"),this.returnToDetails(e)}).catch(t=>{this.$form.error(t)})},cancel(){"edit"==this.mode||"clone"==this.mode?this.returnToDetails(this.issueId):this.$form.close()},returnToDetails(t){this.$router.push("IssueDetails",{issueId:t})}},mounted(){this.$refs.name.focus()}},d=i(84),u=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.cancel}},["edit"==t.mode?e("Prompt",{attrs:{path:"prompt.EditAttributes"}},[e("strong",[t._v(t._s(t.initialName))])]):"add"==t.mode?e("Prompt",{attrs:{path:"prompt.AddIssue"}}):"clone"==t.mode?e("Prompt",{attrs:{path:"prompt.CloneIssue"}},[e("strong",[t._v(t._s(t.initialName))])]):t._e(),t._v(" "),e("FormInput",t._b({ref:"name",attrs:{id:"name",label:t.$t("label.Name")},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}},"FormInput",t.$field("name"),!1)),t._v(" "),"add"==t.mode||"clone"==t.mode?e("FormGroup",t._b({attrs:{label:t.$t("label.Location")}},"FormGroup",t.$field("folderId"),!1),[e("LocationFilters",{ref:"folderId",attrs:{"folder-visible":"","auto-expand":"",typeId:t.typeId,projectId:t.projectId,folderId:t.folderId},on:{"update:projectId":function(e){t.projectId=e},"update:project-id":function(e){t.projectId=e},"update:folderId":function(e){t.folderId=e},"update:folder-id":function(e){t.folderId=e}}})],1):t._e(),t._v(" "),t.attributes.length>0?e("Panel",{attrs:{title:t.$t("title.Attributes")}},t._l(t.attributes,(function(i){return e("FormGroup",{key:i.id,attrs:{id:"attribute"+i.id,label:t.$t("label.Attribute",[t.getAttributeName(i.id)]),required:t.isAttributeRequired(i.id),error:t.$data["attribute"+i.id+"Error"]}},[e("ValueEditor",{ref:"attribute",refInFor:!0,attrs:{id:"attribute"+i.id,attribute:t.getAttribute(i.id),project:t.project},model:{value:t.$data["attribute"+i.id],callback:function(e){t.$set(t.$data,"attribute"+i.id,e)},expression:"$data[ 'attribute' + attribute.id ]"}})],1)})),1):t._e(),t._v(" "),"add"==t.mode||"clone"==t.mode?e("MarkupEditor",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description"),format:t.descriptionFormat},on:{"update:format":function(e){t.descriptionFormat=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"MarkupEditor",t.$field("description"),!1)):t._e()],1)}),[],!1,null,null,null);e.default=u.exports},102:function(t,e,i){"use strict";i.r(e);var s=i(85),r={fields(){return{item:{type:String,required:!0,maxLength:11,parse:this.parse}}},data:()=>({itemId:null}),methods:{submit(){this.$fields.validate()&&(this.$form.block(),this.$ajax.post("/issues/find.php",{itemId:this.itemId}).then(t=>{this.itemId==t?this.$router.push("IssueDetails",{issueId:t}):this.$router.push("IssueItem",{issueId:t,itemId:this.itemId})}).catch(t=>{t.reason==s.n.APIError&&t.errorCode==s.g.ItemNotFound?(this.$form.unblock(),this.itemError=this.$t("ErrorCode."+t.errorCode),this.$nextTick(()=>{this.$refs.item.focus()})):this.$form.error(t)}))},parse(t){return this.itemId=this.$parser.parseInteger(t.replace(/^#/,""),1),this.itemId.toString()},cancel(){this.$form.close()}},mounted(){this.$refs.item.focus()}},o=i(84),n=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("cmd.GoToItem"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.cancel}},[e("Prompt",{attrs:{path:"prompt.GoToItem"}}),t._v(" "),e("FormInput",t._b({ref:"item",attrs:{id:"item",autocomplete:"off",label:t.$t("label.ID")},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)}},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},"FormInput",t.$field("item"),!1))],1)}),[],!1,null,null,null);e.default=n.exports},103:function(t,e,i){"use strict";i.r(e);var s=i(86),r=i(90),o=i.n(r);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var d={props:{issueId:Number,fileId:Number,name:String},data:()=>({loaded:!1,error:!1,width:0}),computed:a(a({},Object(s.c)("global",["baseURL"])),{},{size(){return this.width<=676?"normal":"large"},fileURL(){return this.baseURL+"/client/file.php?id="+this.fileId}}),methods:{saveAs(){/iPad|iPhone/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?this.$router.redirect(this.fileURL):(o.a.saveAs(this.fileURL,this.name),this.returnToDetails())},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}},mounted(){const t=document.createElement("img");t.onload=()=>{this.loaded=!0,this.width=t.width,this.$refs.image.appendChild(t)},t.onerror=()=>{this.loaded=!0,this.error=!0},t.src=this.fileURL}},u=i(84),c=Object(u.a)(d,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.name,size:t.size}},[t.error?e("Prompt",{attrs:{"alert-class":"alert-warning",path:"error.ImagePreviewError"}}):t._e(),t._v(" "),e("div",{ref:"image",staticClass:"issue-image"}),t._v(" "),t.loaded?t._e():e("div",{staticClass:"busy-container"},[e("div",{staticClass:"busy-spinner"},[e("span",{staticClass:"fa fa-spinner fa-spin",attrs:{"aria-hidden":"true"}})])]),t._v(" "),e("div",{staticClass:"form-buttons"},[t.loaded?e("button",{staticClass:"btn btn-primary",on:{click:t.saveAs}},[t._v(t._s(t.$t("cmd.Save")))]):t._e(),t._v(" "),e("button",{staticClass:"btn btn-default",on:{click:t.returnToDetails}},[t._v(t._s(t.$t("cmd.Cancel")))])])],1)}),[],!1,null,null,null);e.default=c.exports},104:function(t,e,i){"use strict";i.r(e);var s=i(86),r=i(85);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={computed:n(n(n(n(n({},Object(s.c)("global",["baseURL","userId","projects","types","users","settings"])),Object(s.b)("global",["isAuthenticated"])),Object(s.c)("issue",["issueId","filter","unread","details","description"])),Object(s.b)("issue",["filteredAttributes","isItemInHistory","processedHistory"])),{},{type(){return this.types.find(t=>t.id==this.details.typeId)},typeName(){return null!=this.type?this.type.name:this.$t("text.UnknownType")},project(){return this.projects.find(t=>t.folders.some(t=>t.id==this.details.folderId))},projectName(){return null!=this.project?this.project.name:this.$t("text.UnknownProject")},folder(){return null!=this.project?this.project.folders.find(t=>t.id==this.details.folderId):null},folderName(){return null!=this.folder?this.folder.name:this.$t("text.UnknownFolder")},createdByName(){return this.getUserName(this.details.createdBy)},modifiedByName(){return this.getUserName(this.details.modifiedBy)},createdDate(){return this.$formatter.formatStamp(this.details.createdDate)},modifiedDate(){return this.$formatter.formatStamp(this.details.modifiedDate)},access(){return null!=this.project?this.project.access:r.a.NoAccess},canMoveDelete(){return this.access==r.a.AdministratorAccess},canEditDescription(){return this.access==r.a.AdministratorAccess||this.details.createdBy==this.userId},isDescriptionModified(){return null!=this.description&&(this.description.modifiedDate-this.details.createdDate>180||this.description.modifiedBy!=this.details.createdBy)},descriptionModifiedByName(){return null!=this.description?this.getUserName(this.description.modifiedBy):null},descriptionModifiedDate(){return null!=this.description?this.$formatter.formatStamp(this.description.modifiedDate):null},allFilters:()=>[r.k.AllHistory,r.k.Comments,r.k.Files,r.k.CommentsAndFiles],isWeb:()=>!0}),methods:{getAttributeName(t){const e=this.type.attributes.find(e=>e.id==t);return null!=e?e.name:this.$t("text.UnknownAttribute")},getUserName(t){const e=this.users.find(e=>e.id==t);return null!=e?e.name:this.$t("text.UnknownUser")},formatStamp(t){return this.$formatter.formatStamp(t)},formatFileSize(t){return this.$formatter.formatFileSize(t)},convertAttributeValue(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=null!=e?this.type.attributes.find(t=>t.id==e):null;return null==s&&(s={type:"TEXT"}),t=this.$formatter.convertAttributeValue(t,s,i),this.$formatter.convertLinks(t)},canEditItem(t){return this.access==r.a.AdministratorAccess||t.createdBy==this.userId},canReply(t){return this.isAuthenticated&&t.type==r.d.CommentAdded},isCommentAdded:t=>t.type==r.d.CommentAdded,isFileAdded:t=>t.type==r.d.FileAdded,isChangeList:t=>t.type==r.d.IssueCreated||t.type==r.d.IssueRenamed||t.type==r.d.ValueChanged,isIssueMoved:t=>t.type==r.d.IssueMoved,isItemModified:t=>null!=t.modifiedDate&&(t.modifiedDate-t.createdDate>180||t.modifiedBy!=t.createdBy),getFilterText(t){switch(t){case r.k.AllHistory:return this.$t("text.History");case r.k.Comments:return this.$t("text.Comments");case r.k.Files:return this.$t("text.Files");case r.k.CommentsAndFiles:return this.$t("text.CommentsAndFiles")}},getNoItemsText(t){switch(t){case r.k.Comments:return this.$t("info.NoComments");case r.k.Files:return this.$t("info.NoFiles");case r.k.CommentsAndFiles:return this.$t("info.NoCommentsOrFiles")}},formatChange(t){let e;return e=t.type==r.d.ValueChanged?this.$t("label.Attribute",[this.$formatter.escape(this.getAttributeName(t.attributeId))]):this.$t("label.Name"),e='<span class="issue-history-label">'+e+"</span>",t.type==r.d.IssueCreated||""==t.old?e+" "+this.formatValue(t.new,t.attributeId):e+" "+this.formatValue(t.old,t.attributeId)+" &rarr; "+this.formatValue(t.new,t.attributeId)},formatIssueMoved(t){return'<span class="issue-history-label">'+this.$t("label.Location")+"</span>"+" "+this.formatLocation(t.fromFolderId)+" &rarr; "+this.formatLocation(t.toFolderId)},formatValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return""!=t?'<span class="issue-history-value">'+this.convertAttributeValue(t,e)+"</span>":this.$t("text.empty")},formatLocation(t){const e=this.projects.find(e=>e.folders.some(e=>e.id==t));return null!=e?'<span class="issue-history-value">'+this.$formatter.escape(e.name)+" &mdash; "+this.$formatter.escape(e.folders.find(e=>e.id==t).name)+"</span>":this.$t("text.unknown")},getFileURL(t){return this.baseURL+"/client/file.php?id="+t},editIssue(){this.$router.push("EditIssue",{issueId:this.issueId})},cloneIssue(){this.$router.push("CloneIssue",{issueId:this.issueId})},moveIssue(){this.$router.push("MoveIssue",{issueId:this.issueId})},deleteIssue(){this.$router.push("DeleteIssue",{issueId:this.issueId})},subscribe(){this.$router.push("SubscribeIssue",{issueId:this.issueId})},unsubscribe(){this.$router.push("UnsubscribeIssue",{issueId:this.issueId})},addDescription(){this.$router.push("AddDescription",{issueId:this.issueId})},replyDescription(){this.$router.push("ReplyDescription",{issueId:this.issueId})},editDescription(){this.$router.push("EditDescription",{issueId:this.issueId})},deleteDescription(){this.$router.push("DeleteDescription",{issueId:this.issueId})},addComment(){this.$router.push("AddComment",{issueId:this.issueId})},addFile(){this.$router.push("AddFile",{issueId:this.issueId})},replyComment(t){this.$router.push("ReplyComment",{issueId:this.issueId,commentId:t.id})},editItem(t){t.type==r.d.CommentAdded?this.$router.push("EditComment",{issueId:this.issueId,commentId:t.id}):t.type==r.d.FileAdded&&this.$router.push("EditFile",{issueId:this.issueId,fileId:t.id})},deleteItem(t){t.type==r.d.CommentAdded?this.$router.push("DeleteComment",{issueId:this.issueId,commentId:t.id}):t.type==r.d.FileAdded&&this.$router.push("DeleteFile",{issueId:this.issueId,fileId:t.id})},downloadFile(t,e){/\.(png|jpe?g|gif|bmp|ico|svg)$/i.test(e.name)&&(this.$router.push("ImagePreview",{issueId:this.issueId,fileId:e.id}),t.preventDefault())},setUnread(t){this.$store.commit("issue/setUnread",t),this.update()},setFilter(t){this.$store.commit("global/setHistoryFilter",t),this.update()},update(){this.$form.block(),this.$store.dispatch("issue/load").then(()=>{this.$form.unblock()}).catch(t=>{this.$form.error(t)})}},mounted(){const t=this.$router.route;null!=t&&"IssueItem"==t.name&&t.params.issueId==this.issueId?this.$form.scrollToAnchor("item"+t.params.itemId):this.$form.loadPosition("/issues/"+this.issueId)},routeChanged(t){if(null!=t&&"IssueDetails"==t.name&&t.params.issueId==this.issueId)return this.$form.loadPosition("/issues/"+this.issueId),!0;if(null!=t&&"Item"==t.name){const e=t.params.itemId;if(e==this.issueId)return this.$form.resetPosition("/issues/"+this.issueId),this.$router.replace("IssueDetails",{issueId:this.issueId}),!0;if(this.isItemInHistory(e))return this.$form.savePosition("/issues/"+this.issueId),this.$router.replace("IssueItem",{issueId:this.issueId,itemId:e}),!0;this.$form.resetPosition("/issues/"+e)}return this.$form.savePosition("/issues/"+this.issueId),null!=t&&"IssueItem"==t.name&&t.params.issueId==this.issueId&&(this.$form.scrollToAnchor("item"+t.params.itemId),!0)}},d=i(84),u=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.details.name,size:"large","auto-close":""},scopedSlots:t._u([{key:"header",fn:function(){return[t.isAuthenticated?e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.editIssue}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))]):t._e(),t._v(" "),t.isAuthenticated?e("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.More")}},[e("li",[e("HyperLink",{on:{click:t.cloneIssue}},[e("span",{staticClass:"fa fa-clone",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.CloneIssue")))])],1),t._v(" "),t.canMoveDelete?e("li",[e("HyperLink",{on:{click:t.moveIssue}},[e("span",{staticClass:"fa fa-exchange",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.MoveIssue")))])],1):t._e(),t._v(" "),t.canMoveDelete?e("li",[e("HyperLink",{on:{click:t.deleteIssue}},[e("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.DeleteIssue")))])],1):t._e(),t._v(" "),e("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),t.unread?e("li",[e("HyperLink",{on:{click:function(e){return t.setUnread(!1)}}},[e("span",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.MarkAsRead")))])],1):t._e(),t._v(" "),t.unread?t._e():e("li",[e("HyperLink",{on:{click:function(e){return t.setUnread(!0)}}},[e("span",{staticClass:"fa fa-check-circle",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.MarkAsUnread")))])],1),t._v(" "),t.settings.subscriptions?[e("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),t.details.subscribed?e("li",[e("HyperLink",{on:{click:t.unsubscribe}},[e("span",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Unsubscribe")))])],1):e("li",[e("HyperLink",{on:{click:t.subscribe}},[e("span",{staticClass:"fa fa-envelope-o",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Subscribe")))])],1)]:t._e()],2):t._e()]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4 col-sm-push-8"},[e("div",{staticClass:"issue-details"},[e("div",{staticClass:"issue-header"},[t._v(t._s(t.$t("title.Properties")))]),t._v(" "),e("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.ID")))]),t._v(" "),e("div",{staticClass:"issue-details-value"},[t._v("#"+t._s(t.details.id))]),t._v(" "),e("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.Type")))]),t._v(" "),e("div",{staticClass:"issue-details-value"},[t._v(t._s(t.typeName))]),t._v(" "),e("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.Location")))]),t._v(" "),e("div",{staticClass:"issue-details-value"},[t._v(t._s(t.projectName)+" — "+t._s(t.folderName))]),t._v(" "),e("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.Created")))]),t._v(" "),e("div",{staticClass:"issue-details-value"},[t._v(t._s(t.createdDate)+" — "+t._s(t.createdByName))]),t._v(" "),e("div",{staticClass:"issue-details-title"},[t._v(t._s(t.$t("title.LastModified")))]),t._v(" "),e("div",{staticClass:"issue-details-value"},[t._v(t._s(t.modifiedDate)+" — "+t._s(t.modifiedByName))])]),t._v(" "),t.filteredAttributes.length>0?e("div",{staticClass:"issue-details"},[e("div",{staticClass:"issue-header"},[t._v(t._s(t.$t("title.Attributes")))]),t._v(" "),t._l(t.filteredAttributes,(function(i){return[e("div",{key:"t"+i.id,staticClass:"issue-details-title"},[t._v(t._s(t.getAttributeName(i.id)))]),t._v(" "),e("div",{key:"v"+i.id,staticClass:"issue-details-value",domProps:{innerHTML:t._s(t.convertAttributeValue(i.value,i.id,{multiLine:!0}))}})]}))],2):t._e()]),t._v(" "),e("div",{staticClass:"col-sm-8 col-sm-pull-4"},[e("FormSection",{attrs:{title:t.$t("title.Description")}},[t.isAuthenticated&&null!=t.description?e("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.Menu")}},[e("li",[e("HyperLink",{on:{click:t.replyDescription}},[e("span",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Reply")))])],1),t._v(" "),t.canEditDescription?e("li",[e("HyperLink",{on:{click:t.editDescription}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))])],1):t._e(),t._v(" "),t.canEditDescription?e("li",[e("HyperLink",{on:{click:t.deleteDescription}},[e("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Delete")))])],1):t._e()]):t.canEditDescription?e("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("cmd.AddDescription")},on:{click:t.addDescription}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n        ")]):t._e()],1),t._v(" "),null!=t.description?e("div",{staticClass:"description-panel"},[e("div",{directives:[{name:"hljs",rawName:"v-hljs",value:t.description.text,expression:"description.text"}],staticClass:"formatted-text"}),t._v(" "),t.isDescriptionModified?e("div",{staticClass:"last-edited"},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.descriptionModifiedDate)+" — "+t._s(t.descriptionModifiedByName)+"\n        ")]):t._e()]):e("div",{staticClass:"alert alert-info"},[t._v("\n        "+t._s(t.$t("info.NoDescription"))+"\n      ")]),t._v(" "),e("FormSection",{attrs:{title:t.getFilterText(t.filter)}},[t.isAuthenticated?e("button",{staticClass:"btn btn-success",attrs:{type:"button",title:t.$t("cmd.AddComment")},on:{click:t.addComment}},[e("span",{staticClass:"fa fa-comment",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Add"))+"\n        ")]):t._e(),t._v(" "),t.isAuthenticated?e("button",{staticClass:"btn btn-default",attrs:{type:"button",title:t.$t("cmd.AttachFile")},on:{click:t.addFile}},[e("span",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}}),t._v(" "),e("span",{staticClass:"hidden-xs auto-tooltip"},[t._v(t._s(t.$t("cmd.Attach")))])]):t._e(),t._v(" "),e("DropdownButton",{attrs:{"fa-class":"fa-cog","menu-class":"dropdown-menu-right",title:t.$t("title.Filter")}},t._l(t.allFilters,(function(i){return e("li",{key:i,class:{active:t.filter==i}},[e("HyperLink",{on:{click:function(e){return t.setFilter(i)}}},[t._v(t._s(t.getFilterText(i)))])],1)})),0)],1),t._v(" "),e("div",{staticClass:"issue-history"},[t._l(t.processedHistory,(function(i){return e("div",{key:i.id,staticClass:"issue-history-item",attrs:{id:"item"+i.id}},[t.isCommentAdded(i)||t.isFileAdded(i)?e("div",{staticClass:"issue-group"},[e("div",{staticClass:"issue-element issue-element-wide"},[e("div",{staticClass:"issue-history-title"},[t._v(t._s(t.formatStamp(i.createdDate))+" — "+t._s(t.getUserName(i.createdBy)))])]),t._v(" "),e("div",{staticClass:"issue-element"},[e("a",{staticClass:"issue-history-id",attrs:{href:"#/items/"+i.id}},[t._v("#"+t._s(i.id))]),t._v(" "),t.canReply(i)||t.canEditItem(i)?e("DropdownButton",{attrs:{"fa-class":"fa-ellipsis-v","menu-class":"dropdown-menu-right",title:t.$t("title.Menu")}},[t.canReply(i)?e("li",[e("HyperLink",{on:{click:function(e){return t.replyComment(i)}}},[e("span",{staticClass:"fa fa-reply",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Reply")))])],1):t._e(),t._v(" "),t.canEditItem(i)?e("li",[e("HyperLink",{on:{click:function(e){return t.editItem(i)}}},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Edit")))])],1):t._e(),t._v(" "),t.canEditItem(i)?e("li",[e("HyperLink",{on:{click:function(e){return t.deleteItem(i)}}},[e("span",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("cmd.Delete")))])],1):t._e()]):t._e()],1)]):e("div",{staticClass:"issue-history-title"},[t._v(t._s(t.formatStamp(i.createdDate))+" — "+t._s(t.getUserName(i.createdBy)))]),t._v(" "),t.isCommentAdded(i)?e("div",{staticClass:"issue-comment"},[e("div",{directives:[{name:"hljs",rawName:"v-hljs",value:i.text,expression:"item.text"}],staticClass:"formatted-text"}),t._v(" "),t.isItemModified(i)?e("div",{staticClass:"last-edited"},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.formatStamp(i.modifiedDate))+" — "+t._s(t.getUserName(i.modifiedBy))+"\n            ")]):t._e()]):t.isFileAdded(i)?e("div",{staticClass:"issue-attachment"},[e("span",{staticClass:"fa fa-paperclip",attrs:{"aria-hidden":"true"}}),t._v(" "),t.isWeb?e("a",{attrs:{href:t.getFileURL(i.id)},on:{click:function(e){return t.downloadFile(e,i)}}},[t._v(t._s(i.name))]):e("HyperLink",{on:{click:function(e){return t.downloadFile(e,i)}}},[t._v(t._s(i.name))]),t._v("\n            ("+t._s(t.formatFileSize(i.size))+")\n            "),i.description?e("span",{domProps:{innerHTML:t._s("&mdash; "+i.description)}}):t._e(),t._v(" "),t.isItemModified(i)?e("div",{staticClass:"last-edited"},[e("span",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.formatStamp(i.modifiedDate))+" — "+t._s(t.getUserName(i.modifiedBy))+"\n            ")]):t._e()],1):t.isChangeList(i)?e("ul",{staticClass:"issue-history-list"},t._l(i.changes,(function(i){return e("li",{key:i.id,domProps:{innerHTML:t._s(t.formatChange(i))}})})),0):t.isIssueMoved(i)?e("ul",{staticClass:"issue-history-list"},[e("li",{domProps:{innerHTML:t._s(t.formatIssueMoved(i))}})]):t._e()])})),t._v(" "),0==t.processedHistory.length?e("div",{staticClass:"alert alert-info"},[t._v("\n          "+t._s(t.getNoItemsText(t.filter))+"\n        ")]):t._e()],2)],1)])])}),[],!1,null,null,null);e.default=u.exports},105:function(t,e,i){"use strict";i.r(e);var s=i(86);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a={props:{read:Boolean},computed:o(o(o({},Object(s.c)("list",["totalCount"])),Object(s.b)("list",["type"])),{},{title(){return this.read?this.$t("cmd.MarkAllAsRead"):this.$t("cmd.MarkAllAsUnread")}}),methods:{submit(){null!=this.type?(this.$form.block(),this.$store.dispatch("list/markAll",{read:this.read}).then(()=>{this.$store.commit("list/setDirty"),this.$store.commit("alerts/setDirty"),this.$form.close()}).catch(t=>{this.$form.error(t)})):this.$form.close()},cancel(){this.$form.close()}}},l=i(84),d=Object(l.a)(a,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,size:"small","with-buttons":"","cancel-hidden":null==t.type},on:{ok:t.submit,cancel:t.cancel}},[null!=t.type?e("Prompt",{attrs:{path:"prompt.MarkAllIssues"}},[e("strong",[t._v(t._s(t.totalCount))]),[t._v(t._s(t.read?t.$t("text.MarkAsRead"):t.$t("text.MarkAsUnread")))]],2):e("Prompt",{attrs:{"alert-class":"alert-warning",path:"prompt.NoTypeSelected"}})],1)}),[],!1,null,null,null);e.default=d.exports},106:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,typeId:Number,initialFolderId:Number,name:String},fields(){return{folderId:{value:this.initialFolderId,type:Number,required:!0,requiredError:this.$t("error.NoFolderSelected")}}},data(){return{projectId:this.getInitialProjectId()}},methods:{getInitialProjectId(){if(null!=this.initialFolderId){const t=this.$store.state.global.projects.find(t=>t.folders.some(t=>t.id==this.initialFolderId));if(null!=t)return t.id}return null},submit(){if(!this.$fields.validate())return;if(!this.$fields.modified())return void this.returnToDetails();const t={issueId:this.issueId,folderId:this.folderId};this.$form.block(),this.$ajax.post("/issues/move.php",t).then(t=>{let{stampId:e}=t;0!=e&&this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(84),o=Object(r.a)(s,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("cmd.MoveIssue"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.MoveIssue"}},[e("strong",[t._v(t._s(t.name))])]),t._v(" "),e("FormGroup",t._b({attrs:{label:t.$t("label.Location")}},"FormGroup",t.$field("folderId"),!1),[e("LocationFilters",{ref:"folderId",attrs:{"require-admin":"","folder-visible":"","auto-expand":"",typeId:t.typeId,projectId:t.projectId,folderId:t.folderId},on:{"update:projectId":function(e){t.projectId=e},"update:project-id":function(e){t.projectId=e},"update:folderId":function(e){t.folderId=e},"update:folder-id":function(e){t.folderId=e}}})],1)],1)}),[],!1,null,null,null);e.default=o.exports},107:function(t,e,i){"use strict";i.r(e);var s=i(86);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var n={props:{issueId:Number,name:String},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(s.c)("global",["userEmail"])),methods:{submit(){this.$form.block(),this.$ajax.post("/issues/subscribe.php",{issueId:this.issueId}).then(()=>{this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},a=i(84),l=Object(a.a)(n,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("cmd.Subscribe"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.SubscribeIssue"}},[e("strong",[t._v(t._s(t.name))])]),t._v(" "),null==t.userEmail?e("Prompt",{attrs:{path:"prompt.WarningNoEmailAddress","alert-class":"alert-warning"}},[e("strong",[t._v(t._s(t.$t("label.Warning")))])]):t._e()],1)}),[],!1,null,null,null);e.default=l.exports},108:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,name:String},methods:{submit(){this.$form.block(),this.$ajax.post("/issues/unsubscribe.php",{issueId:this.issueId}).then(()=>{this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(84),o=Object(r.a)(s,(function(){var t=this._self._c;return t("BaseForm",{attrs:{title:this.$t("cmd.Unsubscribe"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[t("Prompt",{attrs:{path:"prompt.UnsubscribeIssue"}},[t("strong",[this._v(this._s(this.name))])])],1)}),[],!1,null,null,null);e.default=o.exports},90:function(t,e,i){(function(i){var s,r,o;r=[],void 0===(o="function"==typeof(s=function(){"use strict";function e(t,e,i){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){a(s.response,e,i)},s.onerror=function(){console.error("could not download file")},s.send()}function s(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i&&i.global===i?i:void 0,n=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(t,i,n){var a=o.URL||o.webkitURL,l=document.createElement("a");i=i||t.name||"download",l.download=i,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?r(l):s(l.href)?e(t,i,n):r(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(s(t))e(t,i,o);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){r(n)}))}}:function(t,i,s,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,i,s);var a="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||a&&l||n)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=d?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var c=o.URL||o.webkitURL,m=c.createObjectURL(t);r?r.location=m:location.href=m,r=null,setTimeout((function(){c.revokeObjectURL(m)}),4e4)}});o.saveAs=a.saveAs=a,t.exports=a})?s.apply(e,r):s)||(t.exports=o)}).call(this,i(37))},94:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,commentId:Number},methods:{submit(){this.$form.block(),this.$ajax.post("/issues/comments/delete.php",{commentId:this.commentId}).then(()=>{this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(84),o=Object(r.a)(s,(function(){var t=this._self._c;return t("BaseForm",{attrs:{title:this.$t("cmd.DeleteComment"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[t("Prompt",{attrs:{path:"prompt.DeleteComment"}},[t("strong",[this._v(this._s("#"+this.commentId))])])],1)}),[],!1,null,null,null);e.default=o.exports},95:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,issueName:String},methods:{submit(){this.$form.block(),this.$ajax.post("/issues/description/delete.php",{issueId:this.issueId}).then(()=>{this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(84),o=Object(r.a)(s,(function(){var t=this._self._c;return t("BaseForm",{attrs:{title:this.$t("cmd.DeleteDescription"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[t("Prompt",{attrs:{path:"prompt.DeleteDescription"}},[t("strong",[this._v(this._s(this.issueName))])])],1)}),[],!1,null,null,null);e.default=o.exports},96:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,fileId:Number,name:String},methods:{submit(){this.$form.block(),this.$ajax.post("/issues/files/delete.php",{fileId:this.fileId}).then(()=>{this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(84),o=Object(r.a)(s,(function(){var t=this._self._c;return t("BaseForm",{attrs:{title:this.$t("cmd.DeleteFile"),size:"small","with-buttons":""},on:{ok:this.submit,cancel:this.returnToDetails}},[t("Prompt",{attrs:{path:"prompt.DeleteFile"}},[t("strong",[this._v(this._s(this.name))])])],1)}),[],!1,null,null,null);e.default=o.exports},97:function(t,e,i){"use strict";i.r(e);var s={props:{issueId:Number,name:String},methods:{submit(){this.$form.block(),this.$ajax.post("/issues/delete.php",{issueId:this.issueId}).then(()=>{this.$store.commit("list/setDirty"),this.$form.close()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}}},r=i(84),o=Object(r.a)(s,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.$t("cmd.DeleteIssue"),size:"small","with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},[e("Prompt",{attrs:{path:"prompt.DeleteIssue"}},[e("strong",[t._v(t._s(t.name))])]),t._v(" "),e("Prompt",{attrs:{path:"prompt.WarningDeleteIssue","alert-class":"alert-danger"}},[e("strong",[t._v(t._s(t.$t("label.Warning")))])])],1)}),[],!1,null,null,null);e.default=o.exports},98:function(t,e,i){"use strict";i.r(e);var s={props:{mode:String,issueId:Number,issueName:String,commentId:Number,initialComment:String,initialFormat:Number},fields(){return{comment:{value:this.initialComment,type:String,required:!0,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},commentFormat:{value:this.initialFormat,type:Number}}},computed:{title(){return"edit"==this.mode?this.$t("cmd.EditComment"):"add"==this.mode?this.$t("cmd.AddComment"):void 0}},methods:{submit(){if(!this.$fields.validate())return;if("edit"==this.mode&&!this.$fields.modified())return void this.returnToDetails(this.commentId);const t={};"add"==this.mode?t.issueId=this.issueId:t.commentId=this.commentId,t.comment=this.comment,t.commentFormat=this.commentFormat,this.$form.block(),this.$ajax.post("/issues/comments/"+this.mode+".php",t).then(t=>{let{stampId:e}=t;0!=e&&this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}},mounted(){this.$refs.comment.focus()}},r=i(84),o=Object(r.a)(s,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["edit"==t.mode?e("Prompt",{attrs:{path:"prompt.EditComment"}},[e("strong",[t._v(t._s("#"+t.commentId))])]):"add"==t.mode?e("Prompt",{attrs:{path:"prompt.AddComment"}},[e("strong",[t._v(t._s(t.issueName))])]):t._e(),t._v(" "),e("MarkupEditor",t._b({ref:"comment",attrs:{id:"comment",label:t.$t("label.Comment"),format:t.commentFormat},on:{"update:format":function(e){t.commentFormat=e}},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}},"MarkupEditor",t.$field("comment"),!1))],1)}),[],!1,null,null,null);e.default=o.exports},99:function(t,e,i){"use strict";i.r(e);var s={props:{mode:String,issueId:Number,issueName:String,initialDescription:String,initialFormat:Number},fields(){return{description:{value:this.initialDescription,type:String,required:!0,maxLength:this.$store.state.global.settings.commentMaxLength,multiLine:!0},descriptionFormat:{value:this.initialFormat,type:Number}}},computed:{title(){return"edit"==this.mode?this.$t("cmd.EditDescription"):"add"==this.mode?this.$t("cmd.AddDescription"):void 0}},methods:{submit(){if(!this.$fields.validate())return;if("edit"==this.mode&&!this.$fields.modified())return void this.returnToDetails();const t={issueId:this.issueId,description:this.description,descriptionFormat:this.descriptionFormat};this.$form.block(),this.$ajax.post("/issues/description/"+this.mode+".php",t).then(t=>{let{stampId:e}=t;0!=e&&this.$store.commit("list/setDirty"),this.returnToDetails()}).catch(t=>{this.$form.error(t)})},returnToDetails(){this.$router.push("IssueDetails",{issueId:this.issueId})}},mounted(){this.$refs.description.focus()}},r=i(84),o=Object(r.a)(s,(function(){var t=this,e=t._self._c;return e("BaseForm",{attrs:{title:t.title,"with-buttons":""},on:{ok:t.submit,cancel:t.returnToDetails}},["edit"==t.mode?e("Prompt",{attrs:{path:"prompt.EditDescription"}},[e("strong",[t._v(t._s(t.issueName))])]):"add"==t.mode?e("Prompt",{attrs:{path:"prompt.AddDescription"}},[e("strong",[t._v(t._s(t.issueName))])]):t._e(),t._v(" "),e("MarkupEditor",t._b({ref:"description",attrs:{id:"description",label:t.$t("label.Description"),format:t.descriptionFormat},on:{"update:format":function(e){t.descriptionFormat=e}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}},"MarkupEditor",t.$field("description"),!1))],1)}),[],!1,null,null,null);e.default=o.exports}}]);